
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Function list Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-codeblock-filename/block.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-monokai.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-chapter-fold/chapter-fold.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-katex/katex.min.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-theme-api/theme-api.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../styles/website.css">
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Texture.html" />
    
    
    <link rel="prev" href="globals.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">1. Hello PixelsWorld!</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                        <b>1.1.</b>
                    
                    Be the Creator of your World
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../HowTo.html">
            
                <a href="../HowTo.html">
            
                    
                        <b>1.2.</b>
                    
                    Get/Try/Purchase
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">2. Tutorials</li>
        
        
    
        <li class="chapter " data-level="2.1" >
            
                <a target="_blank" href="https://www.youtube.com/playlist?list=PLWk8cR3Ry_sz03uuC4dFQcSg6j0JtINZZ">
            
                    
                        <b>2.1.</b>
                    
                    QuickStart (English subtitles)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" >
            
                <a target="_blank" href="https://www.lua.org/manual/5.4/">
            
                    
                        <b>2.2.</b>
                    
                    Lua 5.4 documentation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" >
            
                <a target="_blank" href="https://thebookofshaders.com/">
            
                    
                        <b>2.3.</b>
                    
                    The book of shaders
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">3. Panels</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../Editor/ScriptWindow.html">
            
                <a href="../Editor/ScriptWindow.html">
            
                    
                        <b>3.1.</b>
                    
                    World formula editor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../Editor/ParameterWindow.html">
            
                <a href="../Editor/ParameterWindow.html">
            
                    
                        <b>3.2.</b>
                    
                    Parameter manager
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../Editor/SavePresets.html">
            
                <a href="../Editor/SavePresets.html">
            
                    
                        <b>3.3.</b>
                    
                    Preset management
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">4. Code language</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="LuaCode.html">
            
                <a href="LuaCode.html">
            
                    
                        <b>4.1.</b>
                    
                    World Center Lua
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="RunLua.html">
            
                <a href="RunLua.html">
            
                    
                        <b>4.1.1.</b>
                    
                    Run Lua
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="WriteLocalCode.html">
            
                <a href="WriteLocalCode.html">
            
                    
                        <b>4.1.2.</b>
                    
                    Load local code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.3" data-path="LinkParameters.html">
            
                <a href="LinkParameters.html">
            
                    
                        <b>4.1.3.</b>
                    
                    Link parameters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.4" data-path="globals.html">
            
                <a href="globals.html">
            
                    
                        <b>4.1.4.</b>
                    
                    Globals
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="4.1.5" data-path="FuncList.html">
            
                <a href="FuncList.html">
            
                    
                        <b>4.1.5.</b>
                    
                    Function list
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.6" data-path="Texture.html">
            
                <a href="Texture.html">
            
                    
                        <b>4.1.6.</b>
                    
                    Texture system
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.7" data-path="Filter.html">
            
                <a href="Filter.html">
            
                    
                        <b>4.1.7.</b>
                    
                    Filter system
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.8" data-path="Simulation.html">
            
                <a href="Simulation.html">
            
                    
                        <b>4.1.8.</b>
                    
                    Physics simulation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.9" data-path="Poly.html">
            
                <a href="Poly.html">
            
                    
                        <b>4.1.9.</b>
                    
                    Poly function
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.10" data-path="TransparencyRender.html">
            
                <a href="TransparencyRender.html">
            
                    
                        <b>4.1.10.</b>
                    
                    Transparency render
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.11" data-path="RunGLSL.html">
            
                <a href="RunGLSL.html">
            
                    
                        <b>4.1.11.</b>
                    
                    Run GLSL in Lua
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../GLSL/GLSLCode.html">
            
                <a href="../GLSL/GLSLCode.html">
            
                    
                        <b>4.2.</b>
                    
                    GPU Berserker GLSL
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.2.1" data-path="../GLSL/RunGLSL.html">
            
                <a href="../GLSL/RunGLSL.html">
            
                    
                        <b>4.2.1.</b>
                    
                    Run GLSL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.2" data-path="../GLSL/GetStart.html">
            
                <a href="../GLSL/GetStart.html">
            
                    
                        <b>4.2.2.</b>
                    
                    Quick start
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.3" data-path="../GLSL/Functions.html">
            
                <a href="../GLSL/Functions.html">
            
                    
                        <b>4.2.3.</b>
                    
                    Functions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.2.3.1" data-path="../GLSL/getColor.html">
            
                <a href="../GLSL/getColor.html">
            
                    
                        <b>4.2.3.1.</b>
                    
                    getColor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.3.2" data-path="../GLSL/uvxy.html">
            
                <a href="../GLSL/uvxy.html">
            
                    
                        <b>4.2.3.2.</b>
                    
                    uv2xy,xy2uv
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.2.4" data-path="../GLSL/LinkParameters.html">
            
                <a href="../GLSL/LinkParameters.html">
            
                    
                        <b>4.2.4.</b>
                    
                    Link parameters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.5" data-path="../GLSL/debug.html">
            
                <a href="../GLSL/debug.html">
            
                    
                        <b>4.2.5.</b>
                    
                    Debug
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.6" data-path="../GLSL/Advanced_settings.html">
            
                <a href="../GLSL/Advanced_settings.html">
            
                    
                        <b>4.2.6.</b>
                    
                    Advanced settings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.7" data-path="../GLSL/predefined.html">
            
                <a href="../GLSL/predefined.html">
            
                    
                        <b>4.2.7.</b>
                    
                    Pre-defined code
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../GLSL/shadertoy.html">
            
                <a href="../GLSL/shadertoy.html">
            
                    
                        <b>4.3.</b>
                    
                    Template Zone shadertoy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="JavaScript.html">
            
                <a href="JavaScript.html">
            
                    
                        <b>4.4.</b>
                    
                    World Outskirts JavaScript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="CMDCode.html">
            
                <a href="CMDCode.html">
            
                    
                        <b>4.5.</b>
                    
                    World Bed Rocks CMD
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">5. About serial number</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../Serial/SerialAttention.html">
            
                <a href="../Serial/SerialAttention.html">
            
                    
                        <b>5.1.</b>
                    
                    Apointments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../Serial/Lost.html">
            
                <a href="../Serial/Lost.html">
            
                    
                        <b>5.2.</b>
                    
                    Help, I forgot to deactivate it!!!
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">6. QA</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../QA/EntryPointErr.html">
            
                <a href="../QA/EntryPointErr.html">
            
                    
                        <b>6.1.</b>
                    
                    Error: Couldn't find main entry point for PixelsWorld.aex (48::72)
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Function list</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="function-list">Function List</h1>
<hr>
<p>Below is a list of functions defined in Lua mode for PixelsWorld.</p>
<p><strong>Mandatory Declaration Function</strong></p>
<p><a href="#version3">version3</a></p>
<p><strong>Parameter Retrieval Functions</strong></p>
<p><a href="LinkParameters.html">slider</a>,
<a href="LinkParameters.html">angle</a>,
<a href="LinkParameters.html">point</a>,
<a href="LinkParameters.html">point3d</a>,
<a href="LinkParameters.html">checkbox</a>,
<a href="LinkParameters.html">color</a>,
<a href="LinkParameters.html">layer</a></p>
<p><strong>Output Information Functions</strong></p>
<p><a href="#print">print</a>,
<a href="#println">println</a>,
<a href="#alert">alert</a></p>
<p><strong>Transformation Functions</strong></p>
<p><a href="#move">move</a>,
<a href="#scale">scale</a>,
<a href="#rotate">rotate</a>,
<a href="#rotatex">rotateX</a>,
<a href="#rotatey">rotateY</a>,
<a href="#rotatez">rotateZ</a>,
<a href="#twirl">twirl</a></p>
<p><a href="#begingroup">beginGroup</a>,
<a href="#endgroup">endGroup</a>,
<a href="#beginglobal">beginGlobal</a>,
<a href="#endglobal">endGlobal</a></p>
<p><a href="#global2local">global2local</a>,
<a href="#local2global">local2global</a>,
<a href="#global2screen">global2screen</a>,
<a href="#screen2global">screen2global</a></p>
<p><a href="#gettransformmatrix">getTransformMatrix</a></p>
<p><strong>Drawing Functions</strong></p>
<blockquote>
<p>Primitives</p>
</blockquote>
<p><a href="#tri">tri</a>,
<a href="#quad">quad</a>,
<a href="#rect">rect</a>,
<a href="#circle">circle</a>,
<a href="#ellipse">ellipse</a>,
<a href="#par">par</a>,
<a href="#line">line</a></p>
<p><a href="#cube">cube</a>,
<a href="#tet">tet</a>,
<a href="#cone">cone</a>,
<a href="#ball">ball</a>,
<a href="#tube">tube</a></p>
<p><a href="#image">image</a>,
<a href="#imagealign">imageAlign</a>,
<a href="#imageanchor">imageAnchor</a></p>
<p><a href="#text">text</a>,
<a href="#textsize">textSize</a>,
<a href="#textfont">textFont</a>,
<a href="#textalign">textAlign</a>,
<a href="#textanchor">textAnchor</a>,
<a href="#textalignouter">textAlignOuter</a>,
<a href="#textinterval">textInterval</a>,
<a href="#textadvancescale">textAdvanceScale</a></p>
<p><a href="#coord">coord</a>,
<a href="#grid">grid</a></p>
<p><a href="Poly.html">poly</a>,
<a href="#setpoly">setPoly</a></p>
<p><a href="#background">background</a>,
<a href="#in2out">in2out</a> </p>
<blockquote>
<p>Drawing Attribute Controls</p>
</blockquote>
<p><a href="#dim2">dim2</a>,
<a href="#dim3">dim3</a></p>
<p><a href="#perspective">perspective</a>,
<a href="#noperspective">noPerspective</a></p>
<p><a href="#fill">fill</a>,
<a href="#nofill">noFill</a>,
<a href="#stroke">stroke</a>,
<a href="#nostroke">noStroke</a>,
<a href="#dot">dot</a>,
<a href="#nodot">noDot</a></p>
<p><a href="#wireframe">wireframe</a>,
<a href="#nowireframe">noWireframe</a></p>
<p><a href="#blendalpha">blendAlpha</a>,
<a href="#noblendalpha">noBlendAlpha</a></p>
<p><a href="#back">back</a>,
<a href="#noback">noBack</a></p>
<p><a href="#pure">pure</a>,
<a href="#phong">phong</a>,
<a href="#anime">anime</a></p>
<p><a href="#rgba">rgba</a>,
<a href="#depth">depth</a>,
<a href="#normal">normal</a></p>
<p><a href="#setdepth">setDepth</a></p>
<blockquote>
<p>Lighting</p>
</blockquote>
<p><a href="#newlight">newLight</a>,
<a href="#dellight">delLight</a>,
<a href="#getlightinfo">getLightInfo</a></p>
<p><a href="#activatelight">activateLight</a>,
<a href="#deactivatelight">deactivateLight</a>,
<a href="#getactivatedlight">getActivatedLight</a>,
<a href="#setactivatedlight">setActivatedLight</a></p>
<p><a href="#fetchlight">fetchLight</a></p>
<p><a href="#ambientlight">ambientLight (legacy)</a>,
<a href="#pointlight">pointLight (legacy)</a>,
<a href="#parallellight">parallelLight (legacy)</a></p>
<p><a href="#clearlight">clearLight (legacy)</a>,
<a href="#getlight">getLight (legacy)</a>  </p>
<blockquote>
<p>Camera</p>
</blockquote>
<p><a href="#aecamera">aeCamera</a>,
<a href="#lookat">lookAt</a>,
<a href="#viewspace">viewSpace</a>  </p>
<blockquote>
<p>Stroked Detail</p>
</blockquote>
<p><a href="#strokewidth">strokeWidth</a>,
<a href="#strokedivision">strokeDivision</a>,
<a href="#strokeglobal">strokeGlobal</a>,
<a href="#strokelocal">strokeLocal</a>  </p>
<blockquote>
<p>Dot Rendering Detail</p>
</blockquote>
<p><a href="#dotradius">dotRadius</a>,
<a href="#dotdivision">dotDivision</a>,
<a href="#dotglobal">dotGlobal</a>,
<a href="#dotlocal">dotLocal</a> </p>
<blockquote>
<p>Output Detail</p>
</blockquote>
<p><a href="#smooth">smooth</a>,
<a href="#nosmooth">noSmooth</a> </p>
<p><strong>Texture Manipulation</strong></p>
<p><a href="Texture.html">newTex, delTex, getSize, swapTex, drawTo, castTex, blendTex, copyTex, savePNG, loadPNG, saveEXR, loadEXR, rotateTex, flipTex, resizeTex, trimTex</a></p>
<p><strong>Utilities</strong></p>
<p><a href="#r2d">r2d</a>,
<a href="#d2r">d2r</a></p>
<p><a href="#map">map</a>
<a href="#clamp">clamp</a>
<a href="#step">step</a>
<a href="#smoothstep">smoothStep</a>
<a href="#bezier">bezier</a></p>
<p><a href="#color-conversion">rgb2hsl,hsl2rgb,rgb2hsv,hsv2rgb,rgb2cmy,cmy2rgb,rgb2cmyk,cmyk2rgb,cmy2cmyk,cmyk2cmy,hsl2hsv,hsv2hsl</a></p>
<p><a href="#utf8tolocal">utf8ToLocal</a>,
<a href="#localtoutf8">localToUtf8</a></p>
<p><a href="#getglinfo">getGLInfo</a>,
<a href="#getdrawrecord">getDrawRecord</a>,
<a href="#getstatus">getStatus</a></p>
<p><a href="#getaudio">getAudio</a>  </p>
<p><a href="#loadstring">loadString</a>
<a href="#savestring">saveString</a></p>
<p><strong>Pixel Reading and Writing Functions</strong></p>
<p><a href="#getcolor">getColor</a>,
<a href="#setcolor">setColor</a>,
<a href="#getsize">getSize</a>,</p>
<p><strong>Code Execution Functions</strong></p>
<p><a href="#shadertoy">shadertoy</a>,
<a href="#glsl">glsl</a>,
<a href="#cmd">cmd</a>,
<a href="#lua">lua</a>,
<a href="#runfile">runFile</a>,
<a href="#txt">txt</a>  </p>
<hr>
<p><br><br><br><br><br></p>
<h1 id="detailed-explanation">Detailed Explanation</h1>
<h2 id="version3">version3</h2>
<p>The function <code>version3()</code> must be declared in the first line in Lua mode. Its purpose is to import all functions under the <code>pw3</code> table into the global scope. If this line is missing, you need to prefix all functions provided by PixelsWorld with <code>pw3.</code>, such as the <code>println()</code> function, which would need to be written as <code>pw3.println()</code>. Conversely, if you call the <code>version3()</code> function at the beginning of your code, you do not need the <code>pw3.</code> prefix. This design is intended to ensure backward compatibility with your code. We recommend that you include a call to <code>version3()</code> in the first line of any Lua rendering mode code in all circumstances.</p>
<div><p class="code-filename">version3.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello PixelsWorld! &quot;</span><span class="token punctuation">)</span>
</code></pre>
<div><p class="code-filename">without_version3.lua</p></div>
<pre class="language-"><code class="lang-lua">pw3<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello PixelsWorld! &quot;</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="print">print</h2>
<p><code>print(str)</code>, <code>print(str,brightness)</code>, <code>print(str,r,g,b)</code>, <code>print(str,r,g,b,a)</code> are functions to output information on the top left corner of the screen.</p>
<p><img src="funcex/output_00001.png" alt="result_of_below"></p>
<div><p class="code-filename">print.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;Hello PixelsWorld! &quot;</span><span class="token punctuation">)</span>
str <span class="token operator">=</span> <span class="token string">&quot;Hello, I am colorful PixelsWorld! &quot;</span>
<span class="token keyword">for</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">#</span>str <span class="token keyword">do</span>
<span class="token keyword">local</span> c <span class="token operator">=</span> str<span class="token punctuation">:</span><span class="token function">sub</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>i<span class="token punctuation">)</span>
<span class="token keyword">local</span> phase <span class="token operator">=</span> math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>i<span class="token operator">/</span><span class="token operator">#</span>str<span class="token operator">*</span>TPI <span class="token operator">+</span> time<span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">.5</span>
<span class="token function">print</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span>phase<span class="token punctuation">,</span><span class="token number">1</span><span class="token operator">-</span>phase<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="println">println</h2>
<p><code>println(str)</code>, <code>println(str, brightness)</code>, <code>println(str, r, g, b)</code>, <code>println(str, r, g, b, a)</code> are functions for outputting information in the top left corner of the screen, with each output followed by a newline.</p>
<p><img src="funcex/output_00002.png" alt="result_of_below"></p>
<div><p class="code-filename">println.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello PixelsWorld! &quot;</span><span class="token punctuation">)</span>
str <span class="token operator">=</span> <span class="token string">&quot;Hello, I am colorful PixelsWorld! &quot;</span>
<span class="token keyword">for</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">#</span>str <span class="token keyword">do</span>
<span class="token keyword">local</span> c <span class="token operator">=</span> str<span class="token punctuation">:</span><span class="token function">sub</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>i<span class="token punctuation">)</span>
<span class="token keyword">local</span> phase <span class="token operator">=</span> math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>i<span class="token operator">/</span><span class="token operator">#</span>str<span class="token operator">*</span>TPI <span class="token operator">+</span> time<span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">.5</span>
<span class="token comment">-- println(c,phase,1-phase,1,1)</span>
<span class="token function">print</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span>phase<span class="token punctuation">,</span><span class="token number">1</span><span class="token operator">-</span>phase<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="alert">alert</h2>
<p><code>alert(str)</code> is a function to output <strong>warning messages</strong> in the top left corner of the screen. It is currently equivalent to <code>println(str, 1, 1, 0, 1)</code>.</p>
<p><img src="funcex/output_00003.png" alt="result_of_below"></p>
<div><p class="code-filename">alert.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Warning: Write your message here! &quot;</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="move">move</h2>
<p><code>move(x,y)</code>,<code>move(x,y,z)</code>moves Paintbrush. </p>
<blockquote>
<p>All transformations are performed based on the current Paintbrush coordinates.</p>
</blockquote>
<p>Example: </p>
<p><img src="funcex/output_00004.png" alt="result_of_below">
<img src="funcex/output_00005.png" alt="result_of_below"></p>
<div><p class="code-filename">move.md</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">coord</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- Display Paintbrush position before transformation</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">coord</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- Display Paintbrush position after 1st transformation</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">coord</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- Display Paintbrush position after 2nd transformation</span>
</code></pre>
<p>Eventually, the Paintbrush will be at position <code>(100, 100, 0)</code>.</p>
<h2 id="scale">scale</h2>
<p><code>scale(ratio)</code>,<code>scale(x,y)</code>,<code>scale(x,y,z)</code>scales the Paintbrush coordinate. </p>
<blockquote>
<p>All transforms are done basing on the Paintbrush coordinate. </p>
</blockquote>
<p><img src="funcex/output_00006.png" alt="result_of_below"></p>
<div><p class="code-filename">scale.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">)</span>
</code></pre>
<hr>
<p><img src="funcex/output_00007.png" alt="result_of_below"></p>
<div><p class="code-filename">no_scale.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token comment">--scale(2)</span>
<span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="rotate">rotate</h2>
<h2 id="rotatex">rotateX</h2>
<h2 id="rotatey">rotateY</h2>
<h2 id="rotatez">rotateZ</h2>
<p><code>rotate(theta)</code> is a function to rotate the Paintbrush coordinates by <code>theta</code> radians, <code>rotateX(theta)</code> rotates the Paintbrush coordinates along its X-axis, and <code>rotate(theta)</code> is essentially equivalent to <code>rotateZ(theta)</code>.</p>
<blockquote>
<ul>
<li>All transformations are performed based on the current Paintbrush coordinates.</li>
<li>If you are unfamiliar with radians, you can use the function <code>d2r(degree)</code> to convert degrees into radians. For example: <code>rotate(d2r(90))</code> rotates by ninety degrees.</li>
</ul>
</blockquote>
<p><img src="funcex/output_00008.png" alt="result_of_below"></p>
<div><p class="code-filename">rotate_degree.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">rotate</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span>
</code></pre>
<hr>
<p><img src="funcex/output_00008.png" alt="result_of_below"></p>
<div><p class="code-filename">rotate_radian.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">rotate</span><span class="token punctuation">(</span>PI<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span>
</code></pre>
<hr>
<p><img src="funcex/output_00009.png" alt="result_of_below"></p>
<div><p class="code-filename">rotateX.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">grid</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">coord</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">rotateX</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">cube</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
</code></pre>
<hr>
<p><img src="funcex/output_00010.png" alt="result_of_below"></p>
<div><p class="code-filename">rotateY.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">grid</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">coord</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">rotateY</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">cube</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
</code></pre>
<hr>
<p><img src="funcex/output_00011.png" alt="result_of_below"></p>
<div><p class="code-filename">rotateZ.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">grid</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">coord</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">rotateZ</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">cube</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="twirl">twirl</h2>
<p><code>twirl(theta, x, y, z)</code> is a function to rotate the Paintbrush coordinate along the <code>(x, y, z)</code> axis by <code>theta</code> radians. For instance, the above <code>rotateX(theta)</code> is equivalent to <code>twirl(theta, 1, 0, 0)</code>.</p>
<blockquote>
<ul>
<li>All transformations are performed based on the current PaintBrush coordinates.</li>
<li><code>twirl</code> uses a matrix implementation for quaternion rotation.</li>
</ul>
</blockquote>
<p><img src="funcex/output_00012.png" alt="result_of_below"></p>
<div><p class="code-filename">twirl.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">grid</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">coord</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">stroke</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">line</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
<span class="token function">stroke</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">twirl</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">cube</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="begingroup">beginGroup</h2>
<h2 id="endgroup">endGroup</h2>
<ol>
<li><code>beginGroup()</code>, <code>endGroup()</code> are functions to create parent-child relationships. Transformations (<code>move, scale, rotate, twirl</code>) between <code>beginGroup()</code> and <code>endGroup()</code> are undone after <code>endGroup()</code>.</li>
<li><code>beginGroup(mat)</code> creates a parent-child relationship and pushes a 4x4 matrix mat into the scene (you can use <a href="#gettransformmatrix">getTransformMatrix</a> to obtain transformation matrix).</li>
</ol>
<blockquote>
<p>It is equivalent to <code>pushMatrix()</code> and <code>popMatrix()</code> in Processing.</p>
</blockquote>
<p>For example, the following two code blocks are equivalent:</p>
<p><img src="funcex/output_00013.png" alt="result_of_below"></p>
<div><p class="code-filename">group.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span> <span class="token keyword">do</span>
    <span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">move</span><span class="token punctuation">(</span>i <span class="token operator">*</span> <span class="token number">25</span><span class="token punctuation">,</span> i <span class="token operator">*</span> <span class="token number">25</span><span class="token punctuation">)</span>
    <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">15</span> <span class="token operator">*</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span>
    <span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre>
<hr>
<p><img src="funcex/output_00013.png" alt="result_of_below"></p>
<div><p class="code-filename">without_group.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span> <span class="token keyword">do</span>
    <span class="token function">move</span><span class="token punctuation">(</span>i <span class="token operator">*</span> <span class="token number">25</span><span class="token punctuation">,</span> i <span class="token operator">*</span> <span class="token number">25</span><span class="token punctuation">)</span>
    <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">15</span> <span class="token operator">*</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span>
    <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">15</span> <span class="token operator">*</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">move</span><span class="token punctuation">(</span><span class="token operator">-</span>i <span class="token operator">*</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token operator">-</span>i <span class="token operator">*</span> <span class="token number">25</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="beginglobal">beginGlobal</h2>
<h2 id="endglobal">endGlobal</h2>
<p>Drawing functions enclosed in <code>beginGlobal</code>, <code>endGlobal</code>
will temporarily draw in the global coordinate system.</p>
<p><img src="funcex/output_00014.png" alt="result_of_below"></p>
<div><p class="code-filename">beginGlobal.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">-- green</span>
<span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token comment">-- Draw on (100, 100, 0)</span>
<span class="token function">beginGlobal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">-- red</span>
<span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token comment">-- Draw on (0, 0, 0)</span>
<span class="token function">endGlobal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">-- blue</span>
<span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token comment">-- Draw on (200, 200, 0)</span>
</code></pre>
<h2 id="global2local">global2local</h2>
<p><code>global2local(x, y, z)</code> converts global coordinates to local coordinates and returns three double values.</p>
<p><img src="funcex/output_00015.png" alt="result_of_below"></p>
<div><p class="code-filename">global2local.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
<span class="token function">rotate</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">coord</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z <span class="token operator">=</span> <span class="token function">global2local</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;The local coordinate of the rectangle is:\n (&quot;</span> <span class="token operator">..</span> x <span class="token operator">..</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">..</span> y <span class="token operator">..</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">..</span> z <span class="token operator">..</span> <span class="token string">&quot;).&quot;</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="local2global">local2global</h2>
<p><code>local2global(x, y, z)</code> converts local coordinates to global coordinates and returns three doubles.</p>
<p><img src="funcex/output_00016.png" alt="result_of_below"></p>
<div><p class="code-filename">local2global.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
<span class="token function">rotate</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">coord</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
<span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span>
x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z <span class="token operator">=</span> <span class="token function">local2global</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;The global coordinate of the rectangle is:\n (&quot;</span> <span class="token operator">..</span> x <span class="token operator">..</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">..</span> y <span class="token operator">..</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">..</span> z <span class="token operator">..</span> <span class="token string">&quot;).&quot;</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="global2screen">global2screen</h2>
<p><code>global2screen(x, y, z)</code> converts global coordinates to screen coordinates and returns three doubles.</p>
<blockquote>
<p>This conversion is affected by perspective mode. </p>
</blockquote>
<p><img src="funcex/output_00017.png" alt="result_of_below"></p>
<div><p class="code-filename">global2screen.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">rotateZ</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">coord</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">cube</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span>
x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z <span class="token operator">=</span> <span class="token function">global2screen</span><span class="token punctuation">(</span><span class="token function">local2global</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;The screen coordinate of the rectangle is:\n (&quot;</span> <span class="token operator">..</span> x <span class="token operator">..</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">..</span> y <span class="token operator">..</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">..</span> z <span class="token operator">..</span> <span class="token string">&quot;).&quot;</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="screen2global">screen2global</h2>
<p><code>screen2global(x, y, z)</code> converts screen coordinates to global coordinates and returns three doubles.</p>
<blockquote>
<p>This conversion is affected by perspective mode. </p>
</blockquote>
<p><img src="funcex/output_00018.png" alt="result_of_below"></p>
<div><p class="code-filename">screen2global.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z <span class="token operator">=</span> <span class="token function">screen2global</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;The global coordinate of the camera is:\n (&quot;</span> <span class="token operator">..</span> x <span class="token operator">..</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">..</span> y <span class="token operator">..</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">..</span> z <span class="token operator">..</span> <span class="token string">&quot;).&quot;</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="gettransformmatrix">getTransformMatrix</h2>
<p><code>getTransformMatrix()</code> returns a column-major 4x4 transformation matrix. This transformation matrix can be applied in <code>beginGroup(mat)</code>.</p>
<blockquote>
<p><code>mat[i][j]</code> can access the element at column <code>i</code>, row <code>j</code>. (<code>i</code>, <code>j</code> range 1~4)</p>
</blockquote>
<p>Example:
<img src="funcex/output_00019.png" alt="result_of_below"></p>
<div><p class="code-filename">matrix.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token function">twirl</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
cubetransform <span class="token operator">=</span> <span class="token function">getTransformMatrix</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">beginGroup</span><span class="token punctuation">(</span>cubetransform<span class="token punctuation">)</span>
<span class="token function">cube</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="tri">tri</h2>
<ol>
<li><code>tri(radius)</code> creates an equilateral triangle inscribed in a circle with radius <code>radius</code> and points in the positive y-direction of the Paintbrush coordinate.</li>
<li><code>tri()</code> is equivalent to <code>tri(100)</code></li>
<li><code>tri(w, h)</code> creates an isosceles triangle with base <code>w</code> and height <code>h</code>.</li>
<li><code>tri(p1x, p1y, p2x, p2y, p3x, p3y)</code> creates a triangle with vertices at the 2D points <code>p1, p2, p3</code>.</li>
<li><code>tri(p1x, p1y, p1z, p2x, p2y, p2z, p3x, p3y, p3z)</code> creates a triangle with vertices at the 3D points <code>p1, p2, p3</code>.</li>
</ol>
<blockquote>
<ul>
<li>To observe a 3D triangle, please add <code>dim3()</code> after the <code>version3()</code> function and set up a camera view in the Ae layer.</li>
<li>Triangles constructed by the first three methods have normals by default in the negative direction of the z-axis of the Paintbrush coordinate, while the triangles from the last two are geometrically normal by <code>cross(p1-p2, p3-p2)</code>.</li>
<li>The function name is a shorthand for <code>triangle</code>.</li>
</ul>
</blockquote>
<p><img src="funcex/output_00020.png" alt="result_of_below"></p>
<div><p class="code-filename">tri1.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token function">tri</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
</code></pre>
<hr>
<p><img src="funcex/output_00021.png" alt="result_of_below"></p>
<div><p class="code-filename">tri5.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token function">tri</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="quad">quad</h2>
<ol>
<li><code>quad(p1x, p1y, p2x, p2y, p3x, p3y, p4x, p4y)</code></li>
<li><code>quad(p1x, p1y, p1z, p2x, p2y, p2z, p3x, p3y, p3z, p4x, p4y, p4z)</code></li>
</ol>
<blockquote>
<ul>
<li>Draw the first triangle in the order of <code>p1, p2, p3</code>, and the second triangle in the order of <code>p1, p3, p4</code>.</li>
</ul>
</blockquote>
<p><img src="funcex/output_00022.png" alt="result_of_below"></p>
<div><p class="code-filename">quad.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">quad</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="rect">rect</h2>
<ol>
<li><code>rect(size)</code> draws a square with the given size.</li>
<li><code>rect()</code> is equivalent to <code>rect(100)</code></li>
<li><code>rect(width, height)</code> draws a rectangle with the specified <code>width</code> and <code>height</code>.</li>
</ol>
<blockquote>
<ul>
<li>The rectangle is generated with its center as the intersection point of the diagonal in the Paintbrush coordinate system.</li>
<li>The function name is a shorthand for <code>rectangle</code>.</li>
</ul>
</blockquote>
<p><img src="funcex/output_00023.png" alt="result_of_below"></p>
<div><p class="code-filename">rect.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="circle">circle</h2>
<ol>
<li><code>circle(radius)</code> draws a circle with a radius of <code>radius</code>.</li>
<li><code>circle()</code> is equivalent to <code>circle(100)</code></li>
<li><code>circle(radius, div)</code> draws a circle with a radius of <code>radius</code> and <code>div</code> segments.</li>
</ol>
<blockquote>
<p>The default number of segments is 128.</p>
</blockquote>
<p><img src="funcex/output_00024.png" alt="result_of_below"></p>
<div><p class="code-filename">circle.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">circle</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">circle</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">circle</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="ellipse">ellipse</h2>
<ol>
<li><code>ellipse(radiusx, radiusy)</code> draws an ellipse with an x-radius of <code>radiusx</code> and a y-radius of <code>radiusy</code>.</li>
<li><code>ellipse()</code> is equivalent to <code>ellipse(100, 100)</code></li>
<li><code>ellipse(radiusx, radiusy, div)</code> draws an ellipse with an x-radius of <code>radiusx</code>, a y-radius of <code>radiusy</code>, and <code>div</code> segments.</li>
</ol>
<blockquote>
<p>The default number of segments is 128.</p>
</blockquote>
<p><img src="funcex/output_00025.png" alt="result_of_below"></p>
<div><p class="code-filename">ellipse.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">ellipse</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">ellipse</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">ellipse</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="line">line</h2>
<ol>
<li><code>line(p1x, p1y, p2x, p2y)</code> draws a line segment.</li>
<li><code>line(p1x, p1y, p1z, p2x, p2y, p2z)</code> draws a 3D line segment.</li>
<li><code>line()</code> is equivalent to <code>line(0, 0, 0, 100, 100, 100)</code></li>
</ol>
<blockquote>
<ul>
<li>The color of the line is controlled by <code>stroke(r, g, b)</code>.</li>
<li>The thickness of the line is controlled by <code>strokeWidth(width)</code>.</li>
<li>Lines are rendered by default; to disable line rendering, use <code>noStroke()</code>, and to enable it, use <code>stroke()</code>.</li>
</ul>
</blockquote>
<p><img src="funcex/output_00026.png" alt="result_of_below"></p>
<div><p class="code-filename">line.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">stroke</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">line</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">stroke</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">line</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">stroke</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">line</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
</code></pre>
<hr>
<p><img src="funcex/output_00027.png" alt="result_of_below"></p>
<div><p class="code-filename">line_circle.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
math<span class="token punctuation">.</span><span class="token function">randomseed</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
num <span class="token operator">=</span> <span class="token number">32</span>

<span class="token function">move</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> num <span class="token keyword">do</span>
    <span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">rotateZ</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">360</span><span class="token operator">/</span>num<span class="token operator">*</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">strokeWidth</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token function">line</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="par">par</h2>
<ol>
<li><code>par(x)</code> draws a point at position <code>(x,0,0)</code>.</li>
<li><code>par(x, y)</code> draws a point at position <code>(x, y, 0)</code>.</li>
<li><code>par(x, y, z)</code> draws a point at position <code>(x, y, z)</code>.</li>
<li><code>par()</code> is equivalent to <code>par(0,0,0)</code>.</li>
</ol>
<blockquote>
<ul>
<li>Point rendering is off by default; use <code>dot()</code> to enable it. You can disable it at any time with <code>noDot()</code>.</li>
<li>The radius of the point is controlled by <code>dotRadius(radius)</code>.</li>
<li>The color of the point is controlled by <code>dot(r, g, b)</code>.</li>
<li>If you do not want the point to be distorted or shrunk, use <code>dotGlobal()</code>. By default, points are rendered in <code>dotLocal()</code> mode.</li>
</ul>
</blockquote>
<p><img src="funcex/output_00028.png" alt="result_of_below"></p>
<div><p class="code-filename">par.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">dot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dotRadius</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">par</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">dot</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">dotRadius</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">par</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="cube">cube</h2>
<ol>
<li><code>cube(size)</code> draws a cube with a side length of <code>size</code>.</li>
<li><code>cube(sizex, sizey, sizez)</code> draws a cuboid with dimensions <code>sizex, sizey, sizez</code>.</li>
<li><code>cube()</code> is equivalent to <code>cube(100)</code>.</li>
</ol>
<blockquote>
<p>The normals of the cuboid are outward by default. Negative lengths or the use of <code>scale()</code> with a negative sign may result in inward normals.</p>
</blockquote>
<p><img src="funcex/output_00029.png" alt="result_of_below"></p>
<div><p class="code-filename">cube.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">rotateY</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">rotateX</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">cube</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="tet">tet</h2>
<ol>
<li><code>tet(radius)</code> draws an inscribed regular tetrahedron with a spherical radius of <code>radius</code>.</li>
<li><code>tet()</code> is equivalent to <code>tet(50)</code>.</li>
<li><code>tet(p1x, p1y, p1z, p2x, p2y, p2z, p3x, p3y, p3z, p4x, p4y, p4z)</code> draws a tetrahedron with vertices at <code>p1, p2, p3, p4</code>.</li>
</ol>
<blockquote>
<ul>
<li>The normals of tetrahedra drawn using the third method are determined by the drawing order: vertices are drawn in the order <code>p1, p2, p3; p2, p1, p4; p3, p2, p4; p1, p3, p4</code>. Please refer to the <code>tri</code> section for triangle normal directions.</li>
<li>The function name is a shorthand for <code>tetrahedron</code>.</li>
</ul>
</blockquote>
<p><img src="funcex/output_00030.png" alt="result_of_below"></p>
<div><p class="code-filename">tet.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">tet</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">50</span>
<span class="token punctuation">)</span>
</code></pre>
<h2 id="cone">cone</h2>
<ol>
<li><code>cone(size)</code> draws a cone with a base radius of <code>size</code> and height <code>2*size</code>.</li>
<li><code>cone()</code> is equivalent to <code>cone(50)</code>.</li>
<li><code>cone(radius, height)</code> draws a cone with a radius of <code>radius</code> and height of <code>height</code>.</li>
<li><code>cone(radius, height, div)</code> draws a cone with a radius of <code>radius</code>, height of <code>height</code>, and segmented into <code>div</code> sections.</li>
</ol>
<blockquote>
<ul>
<li>The default number of segments is 64.</li>
<li>When the number of segments is greater than 16, the cone face outlines and base vertices will be hidden.</li>
<li>Negative input values or the use of <code>scale()</code> with a negative sign may result in inward normals.</li>
</ul>
</blockquote>
<p><img src="funcex/output_00031.png" alt="result_of_below"></p>
<div><p class="code-filename">cone.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">rotateY</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">cone</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">rotateY</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">noStroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">cone</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">rotateY</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">stroke</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">dot</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">dotRadius</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token function">cone</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="ball">ball</h2>
<ol>
<li><code>ball(radius)</code> draws a 3D sphere with a radius of <code>radius</code>.</li>
<li><code>ball()</code> is equivalent to <code>ball(50)</code>.</li>
<li><code>ball(radius, level)</code> draws a sphere with a radius of <code>radius</code> and subdivision level of <code>level</code>.</li>
</ol>
<blockquote>
<ul>
<li>The default level is 4.</li>
<li>Level must be greater than or equal to 0.</li>
<li>A level of 0 results in an octahedron.</li>
<li>When the level is greater than 2, outlines and vertices will be hidden.</li>
<li>Negative input values or the use of <code>scale()</code> with a negative sign may result in inward normals.</li>
</ul>
</blockquote>
<p><img src="funcex/output_00032.png" alt="result_of_below"></p>
<div><p class="code-filename">ball.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">rotateY</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">ball</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">rotateY</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">stroke</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span>
<span class="token function">dot</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">dotRadius</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token function">ball</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="tube">tube</h2>
<ol>
<li><code>tube(size)</code> draws a cylinder with a base radius of <code>size</code> and height <code>2*size</code>.</li>
<li><code>tube()</code> is equivalent to <code>tube(50)</code>.</li>
<li><code>tube(radius, height)</code> draws a cylinder with a radius of <code>radius</code> and height of <code>height</code>.</li>
<li><code>tube(radius1, radius2, height)</code> draws a cylinder with a base radius of <code>radius1</code> near the Paintbrush coordinate origin, a base radius of <code>radius2</code> on the far side, and height of <code>height</code>.</li>
<li><code>tube(radius1, radius2, height, div)</code> adds segment control to the fourth function.</li>
<li><code>tube(radius1, radius2, height, div, needMesh)</code> adds a boolean to control whether to render the two circular faces based on the fifth function.</li>
<li><code>tube(radius1, radius2, height, div, needMesh1, needMesh2)</code> adds booleans <code>needMesh1</code> to control rendering of the near side base and <code>needMesh2</code> for the far side base based on the fifth function.</li>
</ol>
<blockquote>
<ul>
<li><code>div</code> defaults to 64.</li>
<li><code>needMesh</code> defaults to <code>true</code>.</li>
<li>When the number of segments is more than 16, the cylinder&apos;s side outlines and vertices on both bases will be hidden.</li>
<li>Negative input values or the use of <code>scale()</code> with a negative sign may result in inward normals.</li>
</ul>
</blockquote>
<p><img src="funcex/output_00033.png" alt="result_of_below"></p>
<div><p class="code-filename">tube.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">rotateY</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">tube</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">rotateY</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">stroke</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span>
<span class="token function">dot</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">dotRadius</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token function">tube</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="image">image</h2>
<ol>
<li><code>image(id, width, height)</code> draws an image of specified <code>width</code> and <code>height</code> onto the scene.</li>
</ol>
<blockquote>
<ul>
<li><code>id</code> is the texture identifier, <code>PARAM0</code> to <code>PARAM9</code> are textures obtained from the plugin panel&apos;s layer controls, <code>INPUT</code> is the input image to the plugin, and <code>OUTPUT</code> is the output image.</li>
<li>Specifying <code>OUTPUT</code> as <code>id</code> triggers a screen capture action of the current drawing since <code>OUTPUT</code> is the texture used as your drawing board, making it slightly slower than other parameters.</li>
<li>The difference between this function and <code>in2out(id)</code> is that <code>image(id, width, height)</code> interacts with the scene&apos;s depth information based on the Paintbrush coordinates. This means the image is rendered upside down by default, as Ae&apos;s coordinate system has a downward y-axis; you should add a <code>rotateX(PI)</code> before to correct this (using <code>scale(1, -1)</code> is not recommended, as it could cause incorrect normals in subsequent shapes). In contrast, <code>in2out(id)</code> ignores depth information and writes pixels directly onto the current drawing board (without the upside-down issue).</li>
</ul>
</blockquote>
<p>The example below demonstrates a cube interacting with the input image.</p>
<p><img src="funcex/output_00034.png" alt="result_of_below"></p>
<div><p class="code-filename">render_image.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token function">twirl</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">rotateX</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">image</span><span class="token punctuation">(</span>INPUT<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">twirl</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">cube</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="imagealign">imageAlign</h2>
<blockquote>
<p>New in <code>v3.3.0</code>.</p>
</blockquote>
<p>Use <code>imageAlign(rule)</code> to change the orientation of the image in the <code>image</code> function. <code>rule</code> follows these rules:</p>
<ul>
<li><code>rule</code> is a string of length 4.</li>
<li>The 1st character is <code>+</code> or <code>-</code>.</li>
<li>The 2nd character is one of <code>x, y, z</code>.</li>
<li>The 3rd character is <code>+</code> or <code>-</code>.</li>
<li>The 4th character is one of <code>x, y, z</code>.</li>
</ul>
<p><code>rule</code> specifies how the UV coordinates of an image (origin at the lower left corner) align with the axes of the Paintbrush coordinate system. The default <code>rule</code> is <code>&quot;+x+y&quot;</code>, meaning the u-axis aligns with positive x and the v-axis with positive y.</p>
<p><img src="funcex/output_00035.png" alt="result_of_below"></p>
<div><p class="code-filename">imageAlign.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">coord</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">image</span><span class="token punctuation">(</span>PARAM0<span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">coord</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">imageAlign</span><span class="token punctuation">(</span><span class="token string">&quot;+x-y&quot;</span><span class="token punctuation">)</span>
<span class="token function">image</span><span class="token punctuation">(</span>PARAM0<span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">coord</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">imageAlign</span><span class="token punctuation">(</span><span class="token string">&quot;+z-y&quot;</span><span class="token punctuation">)</span>
<span class="token function">image</span><span class="token punctuation">(</span>PARAM0<span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="imageanchor">imageAnchor</h2>
<blockquote>
<p>New in <code>v3.5.0</code>.</p>
</blockquote>
<ul>
<li><code>imageAnchor(u, v)</code> specifies the position of the image anchor point.</li>
<li><code>imageAnchor(a)</code> is a shorthand for <code>imageAnchor(a, a)</code>.</li>
</ul>
<p><img src="funcex/output_00067.png" alt="result_of_below"></p>
<h2 id="text">text</h2>
<blockquote>
<p>New in <code>v3.5.0</code></p>
</blockquote>
<p><code>text(str)</code> is used to render text on the screen.</p>
<p><img src="funcex/output_00068.png" alt="result_of_below"></p>
<div><p class="code-filename">text.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token function">textAlign</span><span class="token punctuation">(</span><span class="token string">&quot;+x-y&quot;</span><span class="token punctuation">)</span>
<span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;Hello PixelsWorld!&quot;</span><span class="token punctuation">)</span>
</code></pre>
<p>You can also use the following functions to change the text style:</p>
<ul>
<li>Text fill color: <a href="#fill">fill(r,g,b)</a></li>
<li>Text stroke color: <a href="#stroke">stroke(r,g,b)</a></li>
<li>Disable fill: <a href="#nofill">noFill()</a></li>
<li>Disable stroke: <a href="#nostroke">noStroke()</a></li>
<li>Stroke thickness: <a href="#strokewidth">strokeWidth(width)</a></li>
<li>Font: <a href="#textfont">textFont(fontFileName)</a></li>
<li>Font size: <a href="#textsize">textSize(size)</a></li>
<li>Letter spacing: <a href="#textinterval">textInterval(dx,dy)</a></li>
<li>Text width proportional scaling: <a href="#textadvancescale">textAdvanceScale(rx,ry)</a></li>
</ul>
<h2 id="textsize">textSize</h2>
<blockquote>
<p>New in <code>v3.5.0</code></p>
</blockquote>
<ul>
<li><code>textSize(size, resolution)</code> sets the size and resolution for the text to be drawn. <code>size</code> controls the text size, and <code>resolution</code> controls the text resolution.</li>
<li><code>textSize(size)</code> is equivalent to <code>textSize(size, size)</code></li>
</ul>
<p><img src="funcex/output_00069.png" alt="result_of_below"></p>
<div><p class="code-filename">textSize.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">textAlign</span><span class="token punctuation">(</span><span class="token string">&quot;+x-y&quot;</span><span class="token punctuation">)</span>
<span class="token function">textAnchor</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">13</span> <span class="token keyword">do</span>
    <span class="token keyword">local</span> sz <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">8</span>
    <span class="token function">textSize</span><span class="token punctuation">(</span>sz<span class="token punctuation">)</span>
    <span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;~MiLai visual performance group~&quot;</span><span class="token punctuation">)</span>
    <span class="token function">move</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> sz <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="textfont">textFont</h2>
<blockquote>
<p>New in <code>v3.5.0</code></p>
</blockquote>
<ul>
<li><code>textFont(fontFileName)</code> sets the font for the text to be drawn. <code>fontFileName</code> is the file name of the font within the <code>C:\Windows\Fonts</code> folder (you can see the file name by checking the properties through right-click).</li>
</ul>
<blockquote>
<p>You can also enter the full path of the font file. This means you can access fonts from any location (e.g., <code>textFont([[D:\MyFolder\arial.ttf]])</code>).</p>
</blockquote>
<p><img src="funcex/output_00070.png" alt="result_of_below"></p>
<div><p class="code-filename">textFont.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">textAlign</span><span class="token punctuation">(</span><span class="token string">&quot;+x-y&quot;</span><span class="token punctuation">)</span>
<span class="token function">textAnchor</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">textSize</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>

font_list <span class="token operator">=</span> <span class="token punctuation">{</span>
<span class="token punctuation">{</span><span class="token string">&quot;arial.ttf&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;The quick brown fox jumps over the lazy dog.&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span><span class="token string">&quot;MATURASC.TTF&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;The quick brown fox jumps over the lazy dog.&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span><span class="token string">&quot;KUNSTLER.TTF&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;The quick brown fox jumps over the lazy dog.&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span><span class="token string">&quot;msmincho.ttc&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&#x8272;&#x306F;&#x5302;&#x3078;&#x3069;&#x3000;&#x6563;&#x308A;&#x306C;&#x308B;&#x3092;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span><span class="token string">&quot;UDDigiKyokashoN-R.ttc&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&#x6211;&#x304C;&#x4E16;&#x8AB0;&#x305E;&#x3000;&#x5E38;&#x306A;&#x3089;&#x3080;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span><span class="token string">&quot;STXINGKA.TTF&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&#x4EBA;&#x751F;&#x5F97;&#x610F;&#x987B;&#x5C3D;&#x6B22; &#x83AB;&#x4F7F;&#x91D1;&#x6A3D;&#x7A7A;&#x5BF9;&#x6708;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span><span class="token string">&quot;msjh.ttc&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&#x5C71;&#x6C23;&#x65E5;&#x5915;&#x4F73; &#x98DB;&#x9CE5;&#x76F8;&#x8207;&#x9084;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span><span class="token string">&quot;simsun.ttc&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&#x5425;&#x847D; &#x83A3;&#x8A18;&#x83AA;&#x3001;&#x4F31;&#x77E5;&#x9053; &#x83AA; &#x62FF;&#x8D77;&#x4F31; &#x5C31; &#x5023;&#x5425;&#x4E05;&#x3002;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span><span class="token string">&quot;STZHONGS.TTF&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&#x25CB;&#x25CF;&#x5BFE;&#x6CB5;&#x503E;&#x6CE8;&#x310B;&#x73F4;&#x6240;&#x4F91;&#x65F3;&#x6E29;&#x67D4;&#xFE36;&#x3123;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">#</span>font_list <span class="token keyword">do</span>
    <span class="token function">textFont</span><span class="token punctuation">(</span>font_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token function">text</span><span class="token punctuation">(</span>font_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token function">move</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="textalign">textAlign</h2>
<blockquote>
<p>New in <code>v3.5.0</code></p>
</blockquote>
<p><code>textAlign(rule)</code> is used to set the rendering orientation of the font. <code>rule</code> is the same as in <code>imageAlign(rule)</code>.</p>
<p><a href="#imagealign">See imageAlign details &gt;&gt;&gt;</a></p>
<h2 id="textanchor">textAnchor</h2>
<blockquote>
<p>New in <code>v3.5.0</code></p>
</blockquote>
<p><code>textAnchor(x, y)</code> is used to set the anchor point position of the font.</p>
<p><a href="#imageanchor">See imageAnchor details &gt;&gt;&gt;</a></p>
<h2 id="textalignouter">textAlignOuter</h2>
<blockquote>
<p>New in <code>v3.5.0</code></p>
</blockquote>
<p><code>textAlignOuter(flag)</code> sets whether to align the text using the outer outline. <code>flag</code> is a boolean value.</p>
<h2 id="textinterval">textInterval</h2>
<blockquote>
<p>New in <code>v3.5.0</code></p>
</blockquote>
<p><code>textInterval(x, y)</code> sets the spacing for text mapping. Default is <code>x:0, y:0</code>.</p>
<h2 id="textadvancescale">textAdvanceScale</h2>
<blockquote>
<p>New in <code>v3.5.0</code></p>
</blockquote>
<p><code>textAdvanceScale(rx, ry)</code> controls the advancement scaling of text mapping. Default is <code>rx:1, ry:1</code>.</p>
<p><img src="funcex/output_00071.png" alt="result_of_below"></p>
<h2 id="coord">coord</h2>
<p><code>coord()</code> visualizes the current Paintbrush coordinates.</p>
<p><img src="funcex/output_00036.png" alt="result_of_below"></p>
<div><p class="code-filename">coord.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">coord</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">coord</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">rotate</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">coord</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="grid">grid</h2>
<p><code>grid()</code> visualizes a grid on the xy plane at the current Paintbrush coordinates with a grid size of 100x100.</p>
<p><img src="funcex/output_00037.png" alt="result_of_below"></p>
<div><p class="code-filename">grid.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token function">rotate</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">grid</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="setpoly">setPoly</h2>
<p><code>setPoly(obj)</code> can pre-parse the object information to be drawn. After setting, you can call <code>poly()</code> to quickly render the object that was just set.</p>
<blockquote>
<ul>
<li>When you draw the same object multiple times in a scene, using this function to set the object in advance will be efficient.</li>
<li>For information on constructing <code>obj</code>, please refer to the <a href="Poly.html">Poly</a> section.</li>
</ul>
</blockquote>
<h2 id="background">background</h2>
<p><code>background(brightness)</code>, <code>background(r,g,b)</code>, <code>background(r,g,b,a)</code> fills the current canvas with the specified color.</p>
<blockquote>
<ul>
<li>Note: If you have previously drawn shapes, they will be covered.</li>
</ul>
</blockquote>
<p><img src="funcex/output_00038.png" alt="result_of_below"></p>
<div><p class="code-filename">background.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">background</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="in2out">in2out</h2>
<ol>
<li><code>in2out(id)</code> sets the specified layer parameter as the background.</li>
<li><code>in2out()</code> is equivalent to <code>in2out(INPUT)</code>, which uses the input layer as the background.</li>
</ol>
<blockquote>
<p><code>id</code> range: <code>PARAM0</code>~<code>PARAM9</code> or <code>INPUT</code>.</p>
</blockquote>
<h2 id="dim2">dim2</h2>
<p><code>dim2()</code> uses 2D drawing mode. This is enabled by default, so you generally do not need to call it.</p>
<blockquote>
<p>Essentially, 2D mode in PixelsWorld is an orthographic 3D mode without depth information.</p>
</blockquote>
<h2 id="dim3">dim3</h2>
<p><code>dim3()</code> switches to 3D drawing mode. We recommend declaring it right after <code>version3()</code>.</p>
<blockquote>
<p>Note: When rendering 3D shapes on a layer different from the composition size, use <a href="#viewspace"><code>viewSpace</code></a> to change the camera&apos;s far plane size to avoid unexpected positioning results.</p>
</blockquote>
<h2 id="perspective">perspective</h2>
<p><code>perspective()</code> renders using a perspective view, where objects follow the rule of being larger when closer and smaller when farther. You can use <a href="#viewspace">viewSpace</a> to adjust camera information and <a href="#lookat">lookAt</a> to adjust the camera position.</p>
<blockquote>
<p>If you have called <code>dim3()</code>, the perspective mode is enabled by default.</p>
</blockquote>
<h2 id="noperspective">noPerspective</h2>
<p><code>noPerspective()</code> renders using an orthographic view, where parallel edges of objects remain parallel in the rendered view.</p>
<p><img src="funcex/output_00039.png" alt="result_of_below"></p>
<div><p class="code-filename">noPerspective.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
n <span class="token operator">=</span> <span class="token number">20</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">rotateX</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">85</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> n <span class="token keyword">do</span>
    <span class="token function">move</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token function">fill</span><span class="token punctuation">(</span>i<span class="token operator">/</span>n<span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">-</span>i<span class="token operator">/</span>n<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token function">cube</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">noPerspective</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">rotateX</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">85</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> n <span class="token keyword">do</span>
    <span class="token function">move</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token function">fill</span><span class="token punctuation">(</span>i<span class="token operator">/</span>n<span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">-</span>i<span class="token operator">/</span>n<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token function">cube</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="fill">fill</h2>
<ol>
<li><code>fill()</code> enables fill, which is enabled by default.</li>
<li><code>fill(brightness)</code>, <code>fill(r, g, b)</code>, <code>fill(r, g, b, a)</code> enables fill and sets the fill color.</li>
</ol>
<blockquote>
<ul>
<li>Note: In 3D mode, if you set the fill transparency to a value less than 1, render objects from farthest to nearest. Otherwise, objects in front may completely obscure those behind them. (This is a characteristic of OpenGL rendering.)<h2 id="nofill">noFill</h2>
</li>
</ul>
</blockquote>
<p><code>noFill()</code> disables the fill.</p>
<p><img src="funcex/output_00040.png" alt="result_of_below"></p>
<div><p class="code-filename">fill.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">noFill</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="stroke">stroke</h2>
<ol>
<li><code>stroke()</code> enables stroke. It is enabled by default.</li>
<li><code>stroke(brightness)</code>, <code>stroke(r, g, b)</code>, <code>stroke(r, g, b, a)</code> enables stroke and sets the stroke color.</li>
</ol>
<h2 id="nostroke">noStroke</h2>
<p><code>noStroke()</code> disables the stroke.</p>
<p><img src="funcex/output_00041.png" alt="result_of_below"></p>
<div><p class="code-filename">stroke.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">stroke</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">stroke</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">noStroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="dot">dot</h2>
<ol>
<li><code>dot()</code> enables vertex rendering, which is disabled by default.</li>
<li><code>dot(brightness)</code>, <code>dot(r, g, b)</code>, <code>dot(r, g, b, a)</code> enables vertex rendering and sets the vertex rendering color.</li>
</ol>
<h2 id="nodot">noDot</h2>
<p><code>noDot()</code> disables vertex rendering.</p>
<p><img src="funcex/output_00042.png" alt="result_of_below"></p>
<div><p class="code-filename">dot.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">stroke</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">dot</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">noDot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="wireframe">wireframe</h2>
<p><code>wireframe()</code> enables wireframe mode.</p>
<h2 id="nowireframe">noWireframe</h2>
<p><code>noWireframe()</code> disables wireframe mode.</p>
<p><img src="funcex/output_00043.png" alt="result_of_below"></p>
<div><p class="code-filename">wireframe.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
n <span class="token operator">=</span> <span class="token number">8</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> n <span class="token keyword">do</span>
    <span class="token keyword">if</span> i <span class="token operator">&gt;</span> n <span class="token operator">//</span> <span class="token number">2</span> <span class="token keyword">then</span> <span class="token function">wireframe</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span> <span class="token function">noWireframe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">end</span>
    <span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">rotateZ</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span>i <span class="token operator">*</span> <span class="token number">360</span> <span class="token operator">/</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token function">fill</span><span class="token punctuation">(</span>i<span class="token operator">/</span>n<span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">-</span>i<span class="token operator">/</span>n<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token function">ball</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="blendalpha">blendAlpha</h2>
<p><code>blendAlpha()</code> enables blending mode.</p>
<h2 id="noblendalpha">noBlendAlpha</h2>
<p><code>noBlendAlpha()</code> disables blending mode.</p>
<p><img src="funcex/output_00044.png" alt="result_of_below"></p>
<div><p class="code-filename">blendAlpha.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">castTex</span><span class="token punctuation">(</span>OUTPUT<span class="token punctuation">,</span> INPUT<span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">)</span>
<span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">noBlendAlpha</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">)</span>
<span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="back">back</h2>
<p>When filled with a transparent color, <code>back()</code> displays the backside of the object. Disabled by default.</p>
<h2 id="noback">noBack</h2>
<p><code>noBack()</code> disables backface rendering mode.</p>
<p><img src="funcex/output_00045.png" alt="result_of_below"></p>
<div><p class="code-filename">back.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">)</span>

<span class="token function">rotateX</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">rotateY</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">cube</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">cube</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="pure">pure</h2>
<p><code>pure()</code> uses pure color mode to render the scene. Enabled by default.</p>
<blockquote>
<p>anime, phong, and pure are three materials that cannot be applied simultaneously. Enabling one will disable the others.</p>
</blockquote>
<h2 id="phong">phong</h2>
<ol>
<li><code>phong(ambient, diffuse, specular, specularPower)</code> switches to phong mode and sets the ambient reflection intensity to ambient, diffuse reflection intensity to diffuse, and specular intensity to specular. specularPower determines the specular attenuation level; the larger it is, the faster the specular attenuates.</li>
<li><code>phong()</code> switches to phong material mode without changing settings.</li>
</ol>
<blockquote>
<ul>
<li>The default scene has no light sources, so you need to use functions like <a href="#getlight">getLight()</a>, <a href="#ambientlight">ambientLight()</a>, <a href="#parallellight">parallelLight()</a>, or <a href="#pointlight">pointLight</a> to get light sources.</li>
<li>If the rendered object is still pure black under the premise of having light sources, check if normals are correct by calling <a href="#normal">normal</a>.</li>
<li>Each parameter&apos;s initial value: ambient: 1, diffuse: 1, specular: 1, specularPower: 1.</li>
<li>anime, phong, and pure are three materials that cannot be applied simultaneously. Enabling one will disable the others.</li>
<li>Execute <a href="#dim3">dim3()</a> before using.</li>
</ul>
</blockquote>
<p><img src="funcex/output_00046.png" alt="result_of_below"></p>
<div><p class="code-filename">phong.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token function">grid</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">coord</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

n <span class="token operator">=</span> <span class="token number">10</span>

<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">pointLight</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> n <span class="token keyword">do</span>
    <span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">rotateZ</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span>i <span class="token operator">*</span> <span class="token number">360</span> <span class="token operator">/</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token function">fill</span><span class="token punctuation">(</span>i<span class="token operator">/</span>n<span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">-</span>i<span class="token operator">/</span>n<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> n <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">then</span> <span class="token function">pure</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span> <span class="token function">phong</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">end</span>
    <span class="token function">ball</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span>
    <span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="anime">anime</h2>
<ol>
<li><code>anime(ambient, diffuse, specular, specularPower, diffuseThreshold, specularThreshold)</code>.</li>
<li><code>anime()</code> switches to anime material mode without changing settings.</li>
</ol>
<blockquote>
<ul>
<li>Anime material is developed based on <a href="#phong">phong</a>. Therefore, the first four parameters &#x2014; ambient, diffuse, specular, and specularPower &#x2014; are the same as in phong. The remaining two parameters, diffuseThreshold and specularThreshold, set the thresholds for diffuse and specular reflection. When diffuse reflection brightness exceeds the threshold, it is set as a highlight; if it is below, it is set as a shadow. Similarly, specularThreshold sets the threshold for highlights.</li>
<li>Anime material has anti-aliasing optimization; if you have anti-aliasing enabled (enabled by default), the light and shadow transition edges will be anti-aliased. Disabling anti-aliasing settings in the plugin panel can turn off edge anti-aliasing.</li>
<li>Initial value for each parameter: ambient:1, diffuse:1, specular:1, specularPower:1, diffuseThreshold:0.5, specularThreshold:0.8.</li>
<li>Anime, phong, and pure are three materials that cannot be applied simultaneously. Enabling one will disable the others.</li>
<li>Execute <a href="#dim3">dim3()</a> before using.</li>
</ul>
</blockquote>
<p><img src="funcex/output_00047.png" alt="result_of_below"></p>
<div><p class="code-filename">anime.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token function">grid</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">coord</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

n <span class="token operator">=</span> <span class="token number">10</span>

<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">pointLight</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> n <span class="token keyword">do</span>
    <span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">rotateZ</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span>i <span class="token operator">*</span> <span class="token number">360</span> <span class="token operator">/</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token function">fill</span><span class="token punctuation">(</span>i<span class="token operator">/</span>n<span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">-</span>i<span class="token operator">/</span>n<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> n <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">then</span> <span class="token function">pure</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span> <span class="token function">anime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">end</span>
    <span class="token function">ball</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span>
    <span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="rgba">rgba</h2>
<p><code>rgba()</code> is the mode for direct RGBA output, enabled by default.</p>
<blockquote>
<ul>
<li>rgba, depth, and normal are three modes that cannot be active simultaneously; turning on one will turn off the other two.</li>
<li>Materials can be used in this mode.</li>
</ul>
</blockquote>
<p><img src="funcex/output_00048.png" alt="result_of_below"></p>
<div><p class="code-filename">rgba.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">background</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

n <span class="token operator">=</span> <span class="token number">10</span>

<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">pointLight</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">rgba</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">-- depth()</span>
<span class="token comment">-- normal()</span>

<span class="token function">noStroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> n <span class="token keyword">do</span>
    <span class="token keyword">for</span> y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> n <span class="token keyword">do</span>
        <span class="token keyword">for</span> z <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> n <span class="token keyword">do</span>
            <span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token function">fill</span><span class="token punctuation">(</span>x<span class="token operator">/</span>n<span class="token punctuation">,</span> y<span class="token operator">/</span>n<span class="token punctuation">,</span> z<span class="token operator">/</span>n<span class="token punctuation">)</span>
            <span class="token function">move</span><span class="token punctuation">(</span><span class="token function">map</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token operator">-</span>n<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> n<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token function">map</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token operator">-</span>n<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> n<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token function">map</span><span class="token punctuation">(</span>z<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token operator">-</span>n<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> n<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">200</span><span class="token punctuation">)</span>
            <span class="token function">ball</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
            <span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">end</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="depth">depth</h2>
<p><code>depth(blackDistance, whiteDistance)</code> is a mode that outputs depth as brightness information. For example, to output a depth map, you can specify blackDistance and whiteDistance to set the distance from the camera at which black or white is rendered. A linear interpolation of gray will be done for distances in between. If you set blackDistance and whiteDistance to the same value, the specified value will be used as a threshold to output pure black or pure white.</p>
<blockquote>
<ul>
<li>rgba, depth, and normal are three modes that cannot be active simultaneously; turning on one will turn off the others.</li>
<li>This mode ignores materials.</li>
<li>Execute <a href="#dim3">dim3()</a> before using.</li>
</ul>
</blockquote>
<p><img src="funcex/output_00049.png" alt="result_of_below"></p>
<div><p class="code-filename">depth.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">background</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

n <span class="token operator">=</span> <span class="token number">10</span>

<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">pointLight</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">-- rgba()</span>
<span class="token function">depth</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">-- normal()</span>

<span class="token function">noStroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> n <span class="token keyword">do</span>
    <span class="token keyword">for</span> y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> n <span class="token keyword">do</span>
        <span class="token keyword">for</span> z <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> n <span class="token keyword">do</span>
            <span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token function">fill</span><span class="token punctuation">(</span>x<span class="token operator">/</span>n<span class="token punctuation">,</span> y<span class="token operator">/</span>n<span class="token punctuation">,</span> z<span class="token operator">/</span>n<span class="token punctuation">)</span>
            <span class="token function">move</span><span class="token punctuation">(</span><span class="token function">map</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token operator">-</span>n<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> n<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token function">map</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token operator">-</span>n<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> n<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token function">map</span><span class="token punctuation">(</span>z<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token operator">-</span>n<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> n<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">200</span><span class="token punctuation">)</span>
            <span class="token function">ball</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
            <span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">end</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="normal">normal</h2>
<ol>
<li><code>normal(faceToCamera, normalize)</code> switches to normal mode and modifies faceToCamera and normalize variables.</li>
<li><code>normal(faceToCamera)</code> switches to normal mode and only modifies the faceToCamera variable.</li>
<li><code>normal()</code> simply switches to normal mode.</li>
</ol>
<blockquote>
<ul>
<li><code>faceToCamera</code> is a boolean value that controls whether normals are generated from the camera&apos;s perspective.</li>
<li><code>normalize</code> is a boolean value that specifies whether to output normalized normals (length 1).</li>
<li>Initial values: faceToCamera: true, normalize: true.</li>
<li>rgba, depth, and normal are three modes that cannot be active simultaneously; turning on one will turn off the others.</li>
<li>This mode ignores materials.</li>
<li>Execute <a href="#dim3">dim3()</a> before using.</li>
</ul>
</blockquote>
<p><img src="funcex/output_00050.png" alt="result_of_below"></p>
<div><p class="code-filename">normal.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">background</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

n <span class="token operator">=</span> <span class="token number">10</span>

<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">pointLight</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">-- rgba()</span>
<span class="token comment">-- depth()</span>
<span class="token function">normal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">noStroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> n <span class="token keyword">do</span>
    <span class="token keyword">for</span> y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> n <span class="token keyword">do</span>
        <span class="token keyword">for</span> z <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> n <span class="token keyword">do</span>
            <span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token function">fill</span><span class="token punctuation">(</span>x<span class="token operator">/</span>n<span class="token punctuation">,</span> y<span class="token operator">/</span>n<span class="token punctuation">,</span> z<span class="token operator">/</span>n<span class="token punctuation">)</span>
            <span class="token function">move</span><span class="token punctuation">(</span><span class="token function">map</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token operator">-</span>n<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> n<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token function">map</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token operator">-</span>n<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> n<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token function">map</span><span class="token punctuation">(</span>z<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token operator">-</span>n<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> n<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">200</span><span class="token punctuation">)</span>
            <span class="token function">ball</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
            <span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">end</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="setdepth">setDepth</h2>
<p><code>setDepth(id, blackDistance, whiteDistance)</code> reads the <strong>red channel</strong> of the material on the given id and sets areas with a channel value of 0 to <code>blackDistance</code> and areas with a value of 1 to <code>whiteDistance</code>, then applies the material to the depth test material.</p>
<blockquote>
<ul>
<li>You can import depth sequences rendered from 3D software through this function, allowing PixelsWorld to interact with other layers at different depths.</li>
<li>Execute <a href="#dim3">dim3()</a> before using.</li>
<li>Valid ids: <code>INPUT</code>, <code>PARAM0</code>~<code>PARAM9</code>.</li>
</ul>
</blockquote>
<h2 id="newlight">newLight</h2>
<blockquote>
<p>A function introduced in <code>3.7.0</code>.</p>
</blockquote>
<p><code>newLight</code> is responsible for creating a light instance. There are currently three built-in light instances: <code>ambient light</code>, <code>point light</code>, and <code>parallel light</code>.</p>
<ol>
<li>Create an ambient light: <code>newLight(AMBIENT_LIGHT, r, g, b, intensity)</code></li>
<li>Create a point light: <code>newLight(POINT_LIGHT, r, g, b, intensity, x, y, z, radius, smoothWidth)</code></li>
<li>Create a parallel light: <code>newLight(PARALLEL_LIGHT, r, g, b, intensity, tx, ty, tz)</code></li>
</ol>
<blockquote>
<ul>
<li><code>AMBIENT_LIGHT</code>, <code>POINT_LIGHT</code>, <code>PARALLEL_LIGHT</code> are constants.</li>
<li><code>r, g, b</code> specify the light color, range <code>0~1</code>.</li>
<li><code>intensity</code> is the light intensity, range <code>&gt;=0</code>.</li>
<li><code>x, y, z</code> are the coordinates of the point light.</li>
<li><code>tx, ty, tz</code> is the directional vector of the parallel light.</li>
<li><code>radius</code> is the radius of influence of the point light (see the diagram below).</li>
<li><p><code>smoothWidth</code> is the attenuation distance of the point light (see the diagram below).</p>
</li>
<li><p>Return value: A positive integer id representing the light data.</p>
</li>
<li><p>Note: This function only creates the light. You also need to call <a href="#activatelight">activateLight</a> to apply the light to the scene.</p>
</li>
</ul>
</blockquote>
<p><img src="funcex/output_00055.png" alt="result_of_below"></p>
<h2 id="dellight">delLight</h2>
<blockquote>
<p>A function introduced in <code>3.7.0</code>.</p>
</blockquote>
<p><code>delLight</code> is used to delete light instances.</p>
<ol>
<li><code>delLight(id1)</code></li>
<li><code>delLight(id1, id2)</code></li>
<li><code>delLight(id1, id2, id3)</code></li>
<li><code>...</code> (Any number of ids can be input)</li>
</ol>
<blockquote>
<ul>
<li><code>id</code> is a positive integer representing light data, obtained from the return value of the <a href="#newlight">newLight</a> function.</li>
<li>Generally, you do not need to delete lights manually. PixelsWorld will automatically clear all lights at the end of each frame.</li>
</ul>
</blockquote>
<h2 id="getlightinfo">getLightInfo</h2>
<blockquote>
<p>A function introduced in <code>3.7.0</code>.</p>
</blockquote>
<p>Use <code>getLightInfo(id)</code> to retrieve information about the specified light.</p>
<blockquote>
<ul>
<li>For ambient lights, use <code>type, r, g, b, intensity = getLightInfo(id)</code> to capture light data.</li>
<li>For point lights, use <code>type, r, g, b, intensity, x, y, z, radius, smoothWidth = getLightInfo(id)</code> to capture light data.</li>
<li>For parallel lights, use <code>type, r, g, b, intensity, tx, ty, tz = getLightInfo(id)</code> to capture light data.</li>
</ul>
</blockquote>
<p>If you&apos;re unsure of the light type of a given id, you can manage light information as follows:</p>
<div><p class="code-filename">getLightInfo.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">-- Create three test lights</span>
<span class="token keyword">local</span> lightList <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">newLight</span><span class="token punctuation">(</span>AMBIENT_LIGHT<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">newLight</span><span class="token punctuation">(</span>POINT_LIGHT<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">newLight</span><span class="token punctuation">(</span>PARALLEL_LIGHT<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">ipairs</span><span class="token punctuation">(</span>lightList<span class="token punctuation">)</span> <span class="token keyword">do</span>

    <span class="token comment">-- Store all return values in an array</span>
    <span class="token keyword">local</span> returnList <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token function">getLightInfo</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">}</span>

    <span class="token comment">-- Determine light type based on the first return value. (Note: Lua arrays start indexing from 1, not 0)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>returnList<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> AMBIENT_LIGHT<span class="token punctuation">)</span> <span class="token keyword">then</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Ambient light! Its intensity is: &quot;</span> <span class="token operator">..</span> returnList<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">elseif</span> <span class="token punctuation">(</span>returnList<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> POINT_LIGHT<span class="token punctuation">)</span> <span class="token keyword">then</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Point light! Its radius is: &quot;</span> <span class="token operator">..</span> returnList<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">elseif</span> <span class="token punctuation">(</span>returnList<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> PARALLEL_LIGHT<span class="token punctuation">)</span> <span class="token keyword">then</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Parallel light! Its x component of direction is: &quot;</span> <span class="token operator">..</span> returnList<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>

<span class="token comment">-- Deleting lights is optional</span>
<span class="token function">delLight</span><span class="token punctuation">(</span>table<span class="token punctuation">.</span><span class="token function">unpack</span><span class="token punctuation">(</span>lightList<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="activatelight">activateLight</h2>
<blockquote>
<p>A function introduced in <code>3.7.0</code>.</p>
</blockquote>
<p>Activates the light and makes it affect the output color of all 3D objects drawn later.</p>
<ol>
<li><code>activateLight(id1)</code></li>
<li><code>activateLight(id1, id2)</code></li>
<li><code>activateLight(id1, id2, id3)</code></li>
<li><code>...</code> (Any number of ids can be input)</li>
</ol>
<blockquote>
<ul>
<li><code>id</code> is a positive integer representing light data, obtained from the return value of the <a href="#newlight">newLight</a> function.</li>
</ul>
</blockquote>
<h2 id="deactivatelight">deactivateLight</h2>
<blockquote>
<p>A function introduced in <code>3.7.0</code>.</p>
</blockquote>
<p>Deactivates the light, preventing it from affecting the output color of all 3D objects drawn later.</p>
<ol>
<li><code>deactivateLight(id1)</code></li>
<li><code>deactivateLight(id1, id2)</code></li>
<li><code>deactivateLight(id1, id2, id3)</code></li>
<li><code>...</code> (Any number of ids can be input)</li>
</ol>
<blockquote>
<ul>
<li><code>id</code> is a positive integer representing light data, obtained from the return value of the <a href="#newlight">newLight</a> function.<h2 id="getactivatedlight">getActivatedLight</h2>
</li>
</ul>
<p>A function introduced in <code>3.7.0</code>.</p>
</blockquote>
<p>Retrieve the ids of all activated lights in the current environment.</p>
<ol>
<li><code>getActivatedLight()</code></li>
</ol>
<blockquote>
<ul>
<li>Returns: The ids of all lights activated by <a href="#activatelight">activateLight</a> (the number of return values is 0 or more).</li>
<li>If you prefer all return values to be packaged in a list, use <code>idList = {getActivatedLight()}</code>.</li>
</ul>
</blockquote>
<h2 id="setactivatedlight">setActivatedLight</h2>
<blockquote>
<p>A function introduced in <code>3.7.0</code>.</p>
</blockquote>
<p>Clear all activated lights in the environment and reset activated lights.</p>
<ol>
<li><code>setActivatedLight()</code> clears all lights in the environment.</li>
<li><code>setActivatedLight(id1)</code> clears all lights in the environment and activates the light indicated by id1.</li>
<li><code>setActivatedLight(id1, id2)</code> clears all lights in the environment and activates the lights indicated by id1 and id2.</li>
<li><code>...</code> (Any number of ids can be input)</li>
</ol>
<blockquote>
<ul>
<li>To simply append lights without clearing existing ones, use <a href="#activatelight">activateLight</a>.</li>
</ul>
</blockquote>
<h2 id="fetchlight">fetchLight</h2>
<blockquote>
<p>A function introduced in <code>3.7.0</code>.</p>
</blockquote>
<p>Fetch light information from an Ae scene with the specified name, create light source instances internally in PixelsWorld based on the fetched parameters, and return the ids of these light instances.</p>
<ol>
<li><code>fetchLight(matchName)</code></li>
<li><code>fetchLight()</code> is equivalent to <code>fetchLight(&quot;*&quot;)</code></li>
</ol>
<blockquote>
<ul>
<li>matchName rules: If the string does not end with <code>&quot;*&quot;</code>, it will search for lights named matchName in the layers of the current Ae composition and add them to the scene; if it ends with <code>&quot;*&quot;</code>, all lights starting with matchName will be added to the scene.</li>
<li><p>Currently supported Ae light types: ambient, point, parallel.</p>
</li>
<li><p>Returns: One or more ids of light data that match <code>matchName</code> (the number of return values is 0 or more).</p>
</li>
<li><p>Note: This function only creates light instances. To have the light instances affect the scene, you need to call <a href="#activatelight">activateLight</a> in combination.</p>
</li>
</ul>
</blockquote>
<h2 id="ambientlight">ambientLight</h2>
<blockquote>
<p>Since version <code>v3.7.0</code>, this function is not recommended. Please use <a href="#newlight">newLight</a> instead.</p>
</blockquote>
<ol>
<li><code>ambientLight(r, g, b, intensity)</code></li>
<li><code>ambientLight()</code> is equivalent to <code>ambientLight(1, 1, 1, 1)</code></li>
<li><code>ambientLight(brightness)</code> is equivalent to <code>ambientLight(brightness, brightness, brightness, 1)</code></li>
<li><code>ambientLight(brightness, intensity)</code> is equivalent to <code>ambientLight(brightness, brightness, brightness, intensity)</code></li>
<li><code>ambientLight(r, g, b)</code> is equivalent to <code>ambientLight(r, g, b, 1)</code></li>
</ol>
<blockquote>
<ul>
<li>Creates an ambient light effective for all objects in the scene.</li>
<li>This light ignores the direction of object normals; it can illuminate objects even if the normals are facing the opposite direction.</li>
</ul>
</blockquote>
<p><img src="funcex/output_00051.png" alt="result_of_below"></p>
<div><p class="code-filename">al.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

n <span class="token operator">=</span> <span class="token number">4</span>

<span class="token function">phong</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">ambientLight</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>

<span class="token function">noStroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> r <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> n <span class="token keyword">do</span>
    <span class="token keyword">local</span> ra <span class="token operator">=</span> r <span class="token operator">*</span> <span class="token number">50</span>
    <span class="token keyword">local</span> cn <span class="token operator">=</span> math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>ra <span class="token operator">*</span> TPI <span class="token operator">/</span> <span class="token number">40</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> cn <span class="token keyword">do</span>
        <span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">rotateZ</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span>i<span class="token operator">/</span>cn<span class="token operator">*</span><span class="token number">360</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token function">fill</span><span class="token punctuation">(</span><span class="token function">hsl2rgb</span><span class="token punctuation">(</span>i<span class="token operator">/</span>cn<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token function">move</span><span class="token punctuation">(</span>ra<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token function">ball</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
        <span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="pointlight">pointLight</h2>
<blockquote>
<p>Since version <code>v3.7.0</code>, this function is not recommended. Please use <a href="#newlight">newLight</a> instead.</p>
</blockquote>
<p><img src="funcex/output_00055.png" alt="result_of_below"></p>
<ol>
<li><code>pointLight(r, g, b, intensity, radius, smoothWidth)</code></li>
<li><code>pointLight()</code> is equivalent to <code>pointLight(1, 1, 1, 1, 1000, 1000)</code></li>
<li><code>pointLight(brightness, intensity)</code> is equivalent to <code>pointLight(brightness, brightness, brightness, intensity, 1000, 1000)</code></li>
<li><code>pointLight(r, g, b)</code> is equivalent to <code>pointLight(r, g, b, 1, 1000, 1000)</code></li>
<li><code>pointLight(r, g, b, intensity)</code> is equivalent to <code>pointLight(r, g, b, intensity, 1000, 1000)</code></li>
<li><code>pointLight(r, g, b, intensity, radiusAndSmoothWidth)</code> is equivalent to <code>pointLight(r, g, b, intensity, radiusAndSmoothWidth, radiusAndSmoothWidth)</code></li>
</ol>
<blockquote>
<ul>
<li>Creates a point light source at the current drawing Paintbrush coordinate origin.</li>
<li>This light is affected by the direction of object normals; objects with normals facing away will not produce diffuse reflection and highlights but can still receive ambient light from point sources.</li>
<li><code>radius</code> denotes the illumination radius; light intensity decreases from <code>radius</code> to <code>radius+smoothWidth</code>.</li>
</ul>
</blockquote>
<p><img src="funcex/output_00052.png" alt="result_of_below"></p>
<div><p class="code-filename">pl.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

n <span class="token operator">=</span> <span class="token number">4</span>

<span class="token function">phong</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">ambientLight</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>

<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">pointLight</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">noStroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> r <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> n <span class="token keyword">do</span>
    <span class="token keyword">local</span> ra <span class="token operator">=</span> r <span class="token operator">*</span> <span class="token number">50</span>
    <span class="token keyword">local</span> cn <span class="token operator">=</span> math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>ra <span class="token operator">*</span> TPI <span class="token operator">/</span> <span class="token number">40</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> cn <span class="token keyword">do</span>
        <span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">rotateZ</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span>i<span class="token operator">/</span>cn<span class="token operator">*</span><span class="token number">360</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token function">fill</span><span class="token punctuation">(</span><span class="token function">hsl2rgb</span><span class="token punctuation">(</span>i<span class="token operator">/</span>cn<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token function">move</span><span class="token punctuation">(</span>ra<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token function">ball</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
        <span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="parallellight">parallelLight</h2>
<blockquote>
<p>Since version <code>v3.7.0</code>, this function is not recommended. Please use <a href="#newlight">newLight</a> instead.</p>
</blockquote>
<ol>
<li><code>parallelLight(r, g, b, intensity, tx, ty, tz)</code></li>
</ol>
<blockquote>
<ul>
<li>Generates a parallel light globally with a direction of <code>(tx, ty, tz)</code>.</li>
</ul>
</blockquote>
<p><img src="funcex/output_00053.png" alt="result_of_below"></p>
<div><p class="code-filename">pll.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

n <span class="token operator">=</span> <span class="token number">4</span>

<span class="token function">phong</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">ambientLight</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token function">parallelLight</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">noStroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> r <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> n <span class="token keyword">do</span>
    <span class="token keyword">local</span> ra <span class="token operator">=</span> r <span class="token operator">*</span> <span class="token number">50</span>
    <span class="token keyword">local</span> cn <span class="token operator">=</span> math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>ra <span class="token operator">*</span> TPI <span class="token operator">/</span> <span class="token number">40</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> cn <span class="token keyword">do</span>
        <span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">rotateZ</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span>i<span class="token operator">/</span>cn<span class="token operator">*</span><span class="token number">360</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token function">fill</span><span class="token punctuation">(</span><span class="token function">hsl2rgb</span><span class="token punctuation">(</span>i<span class="token operator">/</span>cn<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token function">move</span><span class="token punctuation">(</span>ra<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token function">ball</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
        <span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre>
<hr>
<p><img src="funcex/output_00054.png" alt="result_of_below"></p>
<div><p class="code-filename">light_effects.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">background</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
math<span class="token punctuation">.</span><span class="token function">randomseed</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
n <span class="token operator">=</span> <span class="token number">5</span>

<span class="token function">ambientLight</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">parallelLight</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>

<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">pointLight</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">pointLight</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">pointLight</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">noStroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> r <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> n <span class="token keyword">do</span>
    <span class="token keyword">local</span> ra <span class="token operator">=</span> r <span class="token operator">*</span> <span class="token number">50</span>
    <span class="token keyword">local</span> cn <span class="token operator">=</span> math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>ra <span class="token operator">*</span> TPI <span class="token operator">/</span> <span class="token number">40</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> cn <span class="token keyword">do</span>
        <span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">rotateZ</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span>i<span class="token operator">/</span>cn<span class="token operator">*</span><span class="token number">360</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token function">fill</span><span class="token punctuation">(</span><span class="token function">hsl2rgb</span><span class="token punctuation">(</span>i<span class="token operator">/</span>cn<span class="token punctuation">,</span> r<span class="token operator">/</span>n<span class="token punctuation">,</span> <span class="token number">0.6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token function">move</span><span class="token punctuation">(</span>ra<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

        <span class="token keyword">if</span> math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">.15</span> <span class="token keyword">then</span>
            <span class="token function">wireframe</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span> <span class="token function">noWireframe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">end</span>

        <span class="token keyword">if</span> math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">.15</span> <span class="token keyword">then</span> 
            <span class="token function">anime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span> <span class="token function">phong</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">end</span>

        <span class="token keyword">if</span> math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">.8</span> <span class="token keyword">then</span>
            <span class="token keyword">if</span> math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">.3</span> <span class="token keyword">then</span> 
                <span class="token function">ball</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
            <span class="token keyword">else</span> <span class="token function">ball</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">end</span>
        <span class="token keyword">else</span> <span class="token function">cone</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token keyword">end</span>

        <span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="clearlight">clearLight</h2>
<blockquote>
<p>Since version <code>v3.7.0</code>, this function is not recommended. Consider using <a href="#deactivateLight">deactivateLight</a>, <a href="#dellight">delLight</a>, or <a href="#setactivatedlight">setActivatedLight</a> instead.</p>
</blockquote>
<p><code>clearLight()</code> clears all lights in the scene.</p>
<h2 id="getlight">getLight</h2>
<blockquote>
<p>Since version <code>v3.7.0</code>, this function is not recommended. Use a combination of <a href="#fetchlight">fetchLight</a> and <a href="#activatelight">activateLight</a> instead.</p>
</blockquote>
<ol>
<li><code>getLight(matchName)</code></li>
<li><code>getLight()</code> is equivalent to <code>getLight(&quot;*&quot;)</code></li>
</ol>
<blockquote>
<ul>
<li>Retrieves lights in the current composition that match the matchName.</li>
<li>matchName rules: If the string does not end with <code>&quot;*&quot;</code>, it searches for lights named matchName in the layers of the current Ae composition and adds them to the scene. If it ends with <code>&quot;*&quot;</code>, all lights starting with matchName are added to the scene.</li>
<li>Currently supported Ae light types: ambient, point, parallel.</li>
</ul>
</blockquote>
<h2 id="aecamera">aeCamera</h2>
<p><code>aeCamera()</code> uses the current scene camera from Ae as the camera for the PixelsWorld scene.</p>
<h2 id="lookat">lookAt</h2>
<ol>
<li><code>lookAt(eyePosX, eyePosY, eyePosZ, objPosX, objPosY, objPosZ, upVecX, upVecY, upVecZ)</code> sets the camera position and orientation.</li>
<li><code>lookAt(eyePosX, eyePosY, eyePosZ, objPosX, objPosY, objPosZ)</code> is equivalent to <code>lookAt(eyePosX, eyePosY, eyePosZ, objPosX, objPosY, objPosZ, 0, -1, 0)</code></li>
</ol>
<blockquote>
<ul>
<li><code>eyePos</code> is your eye&apos;s position, <code>objPos</code> is the position of the object you want to look at, and <code>upVec</code> is the direction pointing from the top of your head.</li>
<li>Note that the Y-axis in Ae default points downward, so you generally need <code>upVec</code> to be (0, -1, 0).</li>
<li><code>eyePos</code> and <code>objPos</code> should not be too close (recommended distance is no less than <code>1e-7</code>).</li>
<li><code>upVec</code> should not be parallel to your line of sight.</li>
<li><code>upVec</code> length should not be too small.</li>
</ul>
</blockquote>
<h2 id="viewspace">viewSpace</h2>
<p><img src="funcex/output_00056.png" alt="result_of_below"></p>
<ol>
<li><code>viewSpace(width, height, distanceToPlane, farLevel)</code></li>
<li><code>viewSpace(width, height, distanceToPlane)</code> is equivalent to <code>viewSpace(width, height, distanceToPlane, 4)</code></li>
</ol>
<blockquote>
<ul>
<li><code>width</code> and <code>height</code> are the dimensions of the camera&apos;s far plane.</li>
<li>The perpendicular distance from the camera to the camera&apos;s far plane is <code>distanceToPlane</code>.</li>
<li><code>farLevel * distanceToPlane</code> is the distance to the farthest plane; objects beyond this distance will not be rendered. Typically, setting <code>farLevel</code> to 4 is sufficient. If your scene is very large, this value can be set higher, which only affects whether distant objects are rendered. Setting this value too high might affect the depth testing precision of nearby objects.</li>
</ul>
</blockquote>
<h2 id="strokewidth">strokeWidth</h2>
<p><code>strokeWidth(width)</code> sets the thickness of the stroke.</p>
<blockquote>
<p>Default value: 2</p>
</blockquote>
<p><img src="funcex/output_00057.png" alt="result_of_below"></p>
<div><p class="code-filename">strokeWidth.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">background</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">30</span> <span class="token keyword">do</span>
    <span class="token function">move</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token function">strokeWidth</span><span class="token punctuation">(</span>i<span class="token operator">/</span><span class="token number">8</span><span class="token punctuation">)</span>
    <span class="token function">line</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="strokedivision">strokeDivision</h2>
<p><code>strokeDivision(level)</code> sets the subdivision level of the stroke.</p>
<blockquote>
<p>Default value: 3</p>
</blockquote>
<p><img src="funcex/output_00058.png" alt="result_of_below"></p>
<div><p class="code-filename">strokeDivision.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">background</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">strokeWidth</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token keyword">do</span>
    <span class="token function">strokeDivision</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token function">line</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
    <span class="token function">move</span><span class="token punctuation">(</span><span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="strokeglobal">strokeGlobal</h2>
<p><code>strokeGlobal()</code> draws lines in global mode, with line thickness unaffected by scale.</p>
<blockquote>
<ul>
<li>Default is local mode</li>
</ul>
</blockquote>
<p><img src="funcex/output_00059.png" alt="result_of_below"></p>
<div><p class="code-filename">strokeGlobal.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">strokeWidth</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token function">strokeGlobal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>

<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">13</span> <span class="token keyword">do</span>
    <span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">/</span>i<span class="token punctuation">)</span>
    <span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
    <span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">move</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token operator">/</span>i <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="strokelocal">strokeLocal</h2>
<p><code>strokeLocal()</code> draws lines in local mode, with line thickness affected by scale.</p>
<blockquote>
<ul>
<li>Default is local mode</li>
</ul>
</blockquote>
<p><img src="funcex/output_00060.png" alt="result_of_below"></p>
<div><p class="code-filename">strokeLocal.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">strokeWidth</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token function">strokeLocal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>

<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">13</span> <span class="token keyword">do</span>
    <span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">/</span>i<span class="token punctuation">)</span>
    <span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
    <span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">move</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token operator">/</span>i <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="dotradius">dotRadius</h2>
<p><code>dotRadius(radius)</code> sets the thickness of the dot.</p>
<blockquote>
<ul>
<li>Default value: 2</li>
</ul>
</blockquote>
<p><img src="funcex/output_00061.png" alt="result_of_below"></p>
<div><p class="code-filename">dotRadius.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">background</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">dot</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">7</span> <span class="token keyword">do</span>
    <span class="token function">dotRadius</span><span class="token punctuation">(</span>i<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span>
    <span class="token function">move</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="dotdivision">dotDivision</h2>
<p><code>dotDivision(level)</code> sets the subdivision level of the dot (non-negative integer, maximum 7).</p>
<blockquote>
<ul>
<li>Default value: 3</li>
</ul>
</blockquote>
<p><img src="funcex/output_00062.png" alt="result_of_below"></p>
<div><p class="code-filename">dotDivision.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">background</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">dot</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">dotRadius</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token keyword">do</span>
    <span class="token function">dotDivision</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span>
    <span class="token function">move</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="dotglobal">dotGlobal</h2>
<p><code>dotGlobal()</code> draws dots in global mode, with dot radius unaffected by scale.</p>
<blockquote>
<ul>
<li>Default is local mode</li>
</ul>
</blockquote>
<p><img src="funcex/output_00063.png" alt="result_of_below"></p>
<div><p class="code-filename">dotGlobal.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">dot</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">dotGlobal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>

<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">13</span> <span class="token keyword">do</span>
    <span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">/</span>i<span class="token punctuation">)</span>
    <span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
    <span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">move</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token operator">/</span>i <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="dotlocal">dotLocal</h2>
<p><code>dotLocal()</code> draws dots in local mode, with dot radius affected by scale.</p>
<blockquote>
<ul>
<li>Default is local mode</li>
</ul>
</blockquote>
<p><img src="funcex/output_00064.png" alt="result_of_below"></p>
<div><p class="code-filename">dotLocal.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">dot</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">dotLocal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>

<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">13</span> <span class="token keyword">do</span>
    <span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">/</span>i<span class="token punctuation">)</span>
    <span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
    <span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">move</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token operator">/</span>i <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="smooth">smooth</h2>
<p><code>smooth()</code> draws with anti-aliasing mode.</p>
<blockquote>
<p>Default is on.
The anti-aliasing strength can be adjusted in the plugin panel.</p>
</blockquote>
<h2 id="nosmooth">noSmooth</h2>
<p><code>noSmooth()</code> draws without anti-aliasing mode.</p>
<blockquote>
<p>This function takes precedence over anti-aliasing settings in the plugin panel.</p>
</blockquote>
<h2 id="r2d">r2d</h2>
<p><code>r2d(radians)</code> converts radians to degrees, returning the degree value.</p>
<h2 id="d2r">d2r</h2>
<p><code>d2r(degrees)</code> converts degrees to radians, returning the radian value.</p>
<h2 id="map">map</h2>
<p><code>map(value, in1, in2, out1, out2)</code> maps the value <code>value</code> from the range <code>in1~in2</code> to <code>out1~out2</code>.</p>
<blockquote>
<p>When <code>in1</code> equals <code>in2</code>, the function returns <code>out1</code> if <code>value &lt; in1</code>, otherwise it returns <code>out2</code>.</p>
</blockquote>
<h2 id="clamp">clamp</h2>
<p><code>clamp(value, lower, upper)</code> clamps the value <code>value</code> within the range <code>[lower, upper]</code>, returning the clamped value.</p>
<blockquote>
<ul>
<li>New function in <code>v3.2.0</code>.</li>
<li>That is, when <code>value</code> is between <code>lower</code> and <code>upper</code>, it returns <code>value</code>; if <code>value</code> is less than <code>lower</code>, it returns <code>lower</code>; if <code>value</code> is greater than <code>upper</code>, it returns <code>upper</code>.</li>
</ul>
</blockquote>
<h2 id="step">step</h2>
<p><code>step(value, threshold)</code> returns 0 when <code>value &lt; threshold</code>, otherwise returns 1.</p>
<blockquote>
<ul>
<li>New function in <code>v3.2.0</code>.<h2 id="smoothstep">smoothStep</h2>
</li>
</ul>
</blockquote>
<p><code>smoothStep(value, lower, upper)</code> returns 0 when <code>value &lt; lower</code>, 1 when <code>value &gt; upper</code>, and performs smooth interpolation between <code>lower</code> and <code>upper</code> based on <code>value</code>.</p>
<p>Interpolation formula:</p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mo>:</mo><mo>=</mo><mfrac><mrow><mi>x</mi><mo>&#x2212;</mo><mi>l</mi><mi>o</mi><mi>w</mi><mi>e</mi><mi>r</mi></mrow><mrow><mi>u</mi><mi>p</mi><mi>p</mi><mi>e</mi><mi>r</mi><mo>&#x2212;</mo><mi>l</mi><mi>o</mi><mi>w</mi><mi>e</mi><mi>r</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">
t := \frac{x - lower}{upper - lower}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8801079999999999em;"></span><span class="strut bottom" style="height:1.3612159999999998em;vertical-align:-0.481108em;"></span><span class="base textstyle uncramped"><span class="mord mathit">t</span><span class="mrel">:</span><span class="mrel">=</span><span class="mord reset-textstyle textstyle uncramped"><span class="mopen sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.345em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span><span class="reset-textstyle scriptstyle cramped mtight"><span class="mord scriptstyle cramped mtight"><span class="mord mathit mtight">u</span><span class="mord mathit mtight">p</span><span class="mord mathit mtight">p</span><span class="mord mathit mtight">e</span><span class="mord mathit mtight" style="margin-right:0.02778em;">r</span><span class="mbin mtight">&#x2212;</span><span class="mord mathit mtight" style="margin-right:0.01968em;">l</span><span class="mord mathit mtight">o</span><span class="mord mathit mtight" style="margin-right:0.02691em;">w</span><span class="mord mathit mtight">e</span><span class="mord mathit mtight" style="margin-right:0.02778em;">r</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.394em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span><span class="reset-textstyle scriptstyle uncramped mtight"><span class="mord scriptstyle uncramped mtight"><span class="mord mathit mtight">x</span><span class="mbin mtight">&#x2212;</span><span class="mord mathit mtight" style="margin-right:0.01968em;">l</span><span class="mord mathit mtight">o</span><span class="mord mathit mtight" style="margin-right:0.02691em;">w</span><span class="mord mathit mtight">e</span><span class="mord mathit mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span>&#x200B;</span></span></span><span class="mclose sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mi>e</mi><mi>s</mi><mi>u</mi><mi>l</mi><mi>t</mi><mo>:</mo><mo>=</mo><msup><mi>t</mi><mn>2</mn></msup><mo>(</mo><mn>3</mn><mo>&#x2212;</mo><mn>2</mn><mi>t</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">
Result := t^2(3 - 2t)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="mord mathit">e</span><span class="mord mathit">s</span><span class="mord mathit">u</span><span class="mord mathit" style="margin-right:0.01968em;">l</span><span class="mord mathit">t</span><span class="mrel">:</span><span class="mrel">=</span><span class="mord"><span class="mord mathit">t</span><span class="msupsub"><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span><span class="reset-textstyle scriptstyle uncramped mtight"><span class="mord mathrm mtight">2</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span>&#x200B;</span></span></span></span><span class="mopen">(</span><span class="mord mathrm">3</span><span class="mbin">&#x2212;</span><span class="mord mathrm">2</span><span class="mord mathit">t</span><span class="mclose">)</span></span></span></span></p>
<blockquote>
<ul>
<li>New function in <code>v3.2.0</code>.</li>
</ul>
</blockquote>
<h2 id="bezier">bezier</h2>
<p><code>bezier(t, p0, p1, ..., pn)</code> performs <code>n</code>-th order Bezier interpolation on <code>p0, p1, ..., pn</code>, returning the interpolated result.</p>
<p>Interpolation formula:</p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mi>e</mi><mi>s</mi><mi>u</mi><mi>l</mi><mi>t</mi><mo>:</mo><mo>=</mo><msubsup><mo>&#x2211;</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mi>n</mi></msubsup><mrow><msubsup><mi>C</mi><mi>n</mi><mi>k</mi></msubsup><mo>&#x22C5;</mo><mo>(</mo><mn>1</mn><mo>&#x2212;</mo><mi>t</mi><msup><mo>)</mo><mrow><mi>n</mi><mo>&#x2212;</mo><mi>k</mi></mrow></msup><mo>&#x22C5;</mo><msup><mi>t</mi><mi>k</mi></msup><mo>&#x22C5;</mo><msub><mi>p</mi><mi>k</mi></msub></mrow></mrow><annotation encoding="application/x-tex">
Result := \sum_{k=0}^n{C_n^k \cdot (1-t)^{n-k} \cdot t^k \cdot p_k}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.849108em;"></span><span class="strut bottom" style="height:1.149118em;vertical-align:-0.30001em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="mord mathit">e</span><span class="mord mathit">s</span><span class="mord mathit">u</span><span class="mord mathit" style="margin-right:0.01968em;">l</span><span class="mord mathit">t</span><span class="mrel">:</span><span class="mrel">=</span><span class="mop"><span class="mop op-symbol small-op" style="top:-0.0000050000000000050004em;">&#x2211;</span><span class="msupsub"><span class="vlist"><span style="top:0.30001em;margin-left:0em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span><span class="reset-textstyle scriptstyle cramped mtight"><span class="mord scriptstyle cramped mtight"><span class="mord mathit mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mathrm mtight">0</span></span></span></span><span style="top:-0.364em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span><span class="reset-textstyle scriptstyle uncramped mtight"><span class="mord mathit mtight">n</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span>&#x200B;</span></span></span></span><span class="mord textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist"><span style="top:0.247em;margin-left:-0.07153em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span><span class="reset-textstyle scriptstyle cramped mtight"><span class="mord mathit mtight">n</span></span></span><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span><span class="reset-textstyle scriptstyle uncramped mtight"><span class="mord mathit mtight" style="margin-right:0.03148em;">k</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span>&#x200B;</span></span></span></span><span class="mbin">&#x22C5;</span><span class="mopen">(</span><span class="mord mathrm">1</span><span class="mbin">&#x2212;</span><span class="mord mathit">t</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span><span class="reset-textstyle scriptstyle uncramped mtight"><span class="mord scriptstyle uncramped mtight"><span class="mord mathit mtight">n</span><span class="mbin mtight">&#x2212;</span><span class="mord mathit mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span>&#x200B;</span></span></span></span><span class="mbin">&#x22C5;</span><span class="mord"><span class="mord mathit">t</span><span class="msupsub"><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span><span class="reset-textstyle scriptstyle uncramped mtight"><span class="mord mathit mtight" style="margin-right:0.03148em;">k</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span>&#x200B;</span></span></span></span><span class="mbin">&#x22C5;</span><span class="mord"><span class="mord mathit">p</span><span class="msupsub"><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span><span class="reset-textstyle scriptstyle cramped mtight"><span class="mord mathit mtight" style="margin-right:0.03148em;">k</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span>&#x200B;</span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>C</mi><mi>n</mi><mi>k</mi></msubsup><mo>:</mo><mo>=</mo><mfrac><mrow><mi>n</mi><mo>!</mo></mrow><mrow><mo>(</mo><mi>n</mi><mo>&#x2212;</mo><mi>k</mi><mo>)</mo><mo>!</mo><mi>k</mi><mo>!</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">
C_n^k := \frac{n!}{(n-k)!k!}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8801079999999999em;"></span><span class="strut bottom" style="height:1.400108em;vertical-align:-0.52em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist"><span style="top:0.247em;margin-left:-0.07153em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span><span class="reset-textstyle scriptstyle cramped mtight"><span class="mord mathit mtight">n</span></span></span><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span><span class="reset-textstyle scriptstyle uncramped mtight"><span class="mord mathit mtight" style="margin-right:0.03148em;">k</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span>&#x200B;</span></span></span></span><span class="mrel">:</span><span class="mrel">=</span><span class="mord reset-textstyle textstyle uncramped"><span class="mopen sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.34500000000000003em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span><span class="reset-textstyle scriptstyle cramped mtight"><span class="mord scriptstyle cramped mtight"><span class="mopen mtight">(</span><span class="mord mathit mtight">n</span><span class="mbin mtight">&#x2212;</span><span class="mord mathit mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">)</span><span class="mclose mtight">!</span><span class="mord mathit mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">!</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.394em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span><span class="reset-textstyle scriptstyle uncramped mtight"><span class="mord scriptstyle uncramped mtight"><span class="mord mathit mtight">n</span><span class="mclose mtight">!</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span>&#x200B;</span></span></span><span class="mclose sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span></span></span></p>
<blockquote>
<ul>
<li>New function in <code>v3.2.0</code>.</li>
<li>The maximum value of <code>n</code> is <code>66</code>.</li>
</ul>
</blockquote>
<h2 id="color-conversion">Color Conversion</h2>
<p><code>xxx2xxx</code> allows conversions as shown in the diagram below:</p>
<p><img src="colorConvert.png" alt="ColorConvert"></p>
<p>For example, if you want to convert color data from <code>hsl</code> format to <code>rgb</code>, use the function: <code>hsl2rgb</code>, with three input values and three return values.</p>
<p>All color data is converted within the range <code>0~1</code>.</p>
<blockquote>
<ul>
<li>New function in <code>v3.2.0</code>.</li>
</ul>
</blockquote>
<p><img src="funcex/output_00065.png" alt="result_of_below"></p>
<div><p class="code-filename">color_convert.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">strokeWidth</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span>
<span class="token function">stroke</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token function">move</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> x <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token keyword">do</span>
    <span class="token keyword">for</span> y <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token keyword">do</span>
        <span class="token keyword">for</span> z <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token keyword">do</span>
            <span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token function">move</span><span class="token punctuation">(</span>x<span class="token operator">*</span><span class="token number">15</span><span class="token punctuation">,</span> y<span class="token operator">*</span><span class="token number">15</span><span class="token punctuation">,</span> z<span class="token operator">*</span><span class="token number">15</span><span class="token punctuation">)</span>
            <span class="token function">fill</span><span class="token punctuation">(</span><span class="token function">cmy2rgb</span><span class="token punctuation">(</span>x<span class="token operator">/</span><span class="token number">10</span> <span class="token operator">+</span> <span class="token number">0.5</span><span class="token punctuation">,</span> y<span class="token operator">/</span><span class="token number">10</span> <span class="token operator">+</span> <span class="token number">0.5</span><span class="token punctuation">,</span> z<span class="token operator">/</span><span class="token number">10</span> <span class="token operator">+</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token function">cube</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span>
            <span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">end</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="utf8tolocal">utf8ToLocal</h2>
<p><code>utf8ToLocal(str)</code> converts a unicode string to a local string, returning the locally encoded string.</p>
<blockquote>
<p>If you&apos;re using Lua&apos;s <code>io</code> module and encounter a path with utf8 characters that cannot be read, use this function to convert the path encoding.</p>
</blockquote>
<h2 id="localtoutf8">localToUtf8</h2>
<p><code>localToUtf8(str)</code> converts a local string to a unicode string, returning the unicode encoded string.</p>
<h2 id="getglinfo">getGLInfo</h2>
<p><code>getGLInfo()</code> retrieves information about the current graphics card. Returns a string.</p>
<h2 id="getdrawrecord">getDrawRecord</h2>
<ol>
<li><code>getDrawRecord(needStringFormat)</code> outputs the drawing record information of the current scene. <code>needStringFormat</code> is a Boolean value; if true, it outputs a string, if false, it outputs a Lua table.</li>
<li><code>getDrawRecord()</code> is equivalent to <code>getDrawRecord(true)</code>.</li>
</ol>
<p><img src="funcex/output_00066.png" alt="result_of_below"></p>
<div><p class="code-filename">printDrawRecord.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dot</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">cube</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token function">getDrawRecord</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="getstatus">getStatus</h2>
<ol>
<li><code>getStatus(needStringFormat)</code> can output the current draw status information. <code>needStringFormat</code> is a Boolean value; if true, it outputs a string, if false, it outputs a Lua table.</li>
<li><code>getStatus()</code> is equivalent to <code>getStatus(true)</code>.</li>
</ol>
<div><p class="code-filename">getStatus.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">cube</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token function">getStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="getaudio">getAudio</h2>
<blockquote>
<p>Ensure you have <code>v3.4.0+</code> version of PixelsWorld.</p>
</blockquote>
<ol>
<li><code>getAudio([startTime, duration[, id[, sampleRate, startFrequency, endFrequency[, resolution]]]])</code> retrieves audio information, returning six tables: two waveform sampling tables (left and right channels), two FFT result tables (left and right channels), and two spectrum tables (left and right channels).</li>
<li>Omitted fields will be filled with audio setting data from the plugin panel.</li>
</ol>
<blockquote>
<ul>
<li>Left channel waveform (-1~1)</li>
<li>Right channel waveform (-1~1)</li>
<li>Left channel FFT (0~positive infinity)</li>
<li>Right channel FFT (0~positive infinity)</li>
<li>Left channel spectrum (0~positive infinity)</li>
<li>Right channel spectrum (0~positive infinity)</li>
</ul>
</blockquote>
<div><p class="code-filename">waveInfo.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">castTex</span><span class="token punctuation">(</span>OUTPUT<span class="token punctuation">,</span>INPUT<span class="token punctuation">)</span>

<span class="token keyword">local</span> wl<span class="token punctuation">,</span> wr<span class="token punctuation">,</span> ftl<span class="token punctuation">,</span> ftr<span class="token punctuation">,</span> specl<span class="token punctuation">,</span> specr <span class="token operator">=</span> <span class="token function">getAudio</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">local</span> nm <span class="token operator">=</span> math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>height<span class="token operator">/</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> nm <span class="token keyword">do</span>
    <span class="token keyword">local</span> wid <span class="token operator">=</span> math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>i<span class="token operator">/</span>nm <span class="token operator">*</span> <span class="token operator">#</span>wl<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">local</span> fid <span class="token operator">=</span> math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>i<span class="token operator">/</span>nm <span class="token operator">*</span> <span class="token operator">#</span>specl<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%8.5f&quot;</span><span class="token punctuation">,</span> wl<span class="token punctuation">[</span>wid<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> wl<span class="token punctuation">[</span>wid<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span>wl<span class="token punctuation">[</span>wid<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;  &lt; L  R &gt;  &quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%8.5f&quot;</span><span class="token punctuation">,</span> wr<span class="token punctuation">[</span>wid<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> wr<span class="token punctuation">[</span>wid<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span>wr<span class="token punctuation">[</span>wid<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;      &lt;   Wave  FFT   &gt;      &quot;</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%8.5f&quot;</span><span class="token punctuation">,</span> specl<span class="token punctuation">[</span>fid<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> specl<span class="token punctuation">[</span>fid<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;  &lt; L  R &gt;  &quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%8.5f&quot;</span><span class="token punctuation">,</span> specr<span class="token punctuation">[</span>fid<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> specr<span class="token punctuation">[</span>fid<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="savestring">saveString</h2>
<p><code>saveString(utf8_path, string)</code> saves a string as a text format in the local system.</p>
<h2 id="loadstring">loadString</h2>
<p><code>loadString(utf8_path)</code> reads a local text file, returning the string.</p>
<h2 id="getcolor">getColor</h2>
<p><code>getColor(id, x, y)</code> returns the pixel value at coordinate (x, y) of the texture <code>id</code>, with r, g, b, a as four double-precision floating-point numbers.
<code>getColor(x, y)</code> is equivalent to <code>getColor(INPUT, x, y)</code>.</p>
<blockquote>
<ul>
<li>When <code>getColor</code> is used before drawing any scene (i.e., immediately after <code>version3()</code>), the function is most efficient. Using <code>getColor</code> during scene drawing is very inefficient as Lua operates on the CPU, and all textures are sent to your graphics card during drawing, making communication between the GPU and CPU costly.</li>
<li>Valid ids are <code>INPUT</code>, <code>OUTPUT</code>, <code>PARAM0</code> ~ <code>PARAM9</code>.</li>
</ul>
</blockquote>
<h2 id="setcolor">setColor</h2>
<p><code>setColor(x, y, r, g, b, a)</code> sets the pixel value at coordinate (x, y) of the <code>OUTPUT</code> texture.</p>
<blockquote>
<ul>
<li>Efficiency is highest when using <code>setColor</code> before drawing any scene (i.e., immediately after <code>version3()</code>).</li>
</ul>
</blockquote>
<h2 id="getsize">getSize</h2>
<p><code>getSize(id)</code> returns the size of the texture <code>id</code> (two doubles, width, and height).</p>
<blockquote>
<p>When you change scene downsample (e.g., half, quarter), the returned size may jitter by 0~4 pixels due to Ae&#x2019;s downsampling feature. However, this jitter does not change over time. When downsampling is turned off, this function guarantees the correct layer size.</p>
</blockquote>
<h2 id="shadertoy">shadertoy</h2>
<p><code>shadertoy(code)</code> executes code from Shadertoy.</p>
<blockquote>
<ul>
<li>Not all Shadertoy code is supported.</li>
</ul>
</blockquote>
<h2 id="glsl">glsl</h2>
<p><code>glsl(code)</code> executes Fragment stage code.</p>
<h2 id="cmd">cmd</h2>
<p><code>cmd(code)</code> executes a cmd command.</p>
<blockquote>
<p>If the command runs successfully, the first return value is true; otherwise, it is nil. After the first return value, the function returns a string and a number. As follows:</p>
<ul>
<li>&quot;exit&quot;: The command ended normally; the following number is the command&#x2019;s exit status code.</li>
<li>&quot;signal&quot;: The command was interrupted by a signal; the next number is the signal that interrupted the command.</li>
</ul>
</blockquote>
<h2 id="lua">lua</h2>
<p><code>lua(code)</code> executes Lua code.</p>
<h2 id="runfile">runFile</h2>
<p><code>runFile(utf8_path)</code> reads a local file as a txt file and executes it as Lua code.</p>
<blockquote>
<p>Supports utf8 by default, so no need to call <code>utf8ToLocal</code> for conversion.</p>
</blockquote>
<h2 id="txt">txt</h2>
<p><code>txt(utf8_path)</code> reads a local file as a txt file and returns a string.</p>
<blockquote>
<p>Supports utf8 by default, so no need to call <code>utf8ToLocal</code> for conversion.</p>
</blockquote>

<script>console.log("plugin-popup....");document.onclick = function(e){ e.target.tagName === "IMG" && window.open(e.target.src,e.target.src)}</script><style>img{cursor:pointer}</style>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            

        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Function list","level":"4.1.5","depth":2,"next":{"title":"Texture system","level":"4.1.6","depth":2,"path":"contents/Lua/Texture.md","ref":"contents/Lua/Texture.md","articles":[]},"previous":{"title":"Globals","level":"4.1.4","depth":2,"path":"contents/Lua/globals.md","ref":"contents/Lua/globals.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["hide-published-with","-sharing","sharing-plus","theme-api","codeblock-filename","prism","-highlight","copy-code-button","-lunr","-search","search-pro","back-to-top-button","popup","chapter-fold","heading-anchors","katex"],"pluginsConfig":{"chapter-fold":{},"prism":{"css":["prismjs/themes/prism-monokai.css"]},"search-pro":{},"adsense":{"client":"ca-pub-7097619231360132","slot":"","format":"auto","element":".page-inner section","position":"bottom"},"sharing-plus":{"qq":false,"all":["facebook","google","twitter","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":true,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":true,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"popup":{},"hide-published-with":{},"katex":{},"fontsettings":{"theme":"white","family":"sans","size":2},"heading-anchors":{},"codeblock-filename":{},"theme-api":{"languages":[],"split":true,"theme":"light"},"back-to-top-button":{},"copy-code-button":{},"sharing":{"qq":true,"all":["douban","facebook","google","instapaper","linkedin","twitter","weibo","messenger","qq","qzone","viber","whatsapp"],"douban":false,"facebook":false,"weibo":false,"twitter":true,"pocket":false,"google":true,"qzone":false},"theme-default":{"styles":{"pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css","website":"styles/website.css"},"showLevel":true}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css"}},"file":{"path":"contents/Lua/FuncList.md","mtime":"2025-01-01T08:03:16.860Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2025-01-01T09:18:58.968Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-hide-published-with/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing-plus/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-chapter-fold/chapter-fold.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/1.2.1/anchor.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-heading-anchors/anchor-style.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-theme-api/theme-api.js"></script>
        
    

    </body>
</html>

