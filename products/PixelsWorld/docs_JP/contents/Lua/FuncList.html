
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>関数一覧表 · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-codeblock-filename/block.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-monokai.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-chapter-fold/chapter-fold.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-theme-api/theme-api.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../styles/website.css">
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Poly.html" />
    
    
    <link rel="prev" href="globals.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">1. ハロー、ピクセルスワールド！</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                        <b>1.1.</b>
                    
                    今日、創造神になってきます！
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../HowTo.html">
            
                <a href="../HowTo.html">
            
                    
                        <b>1.2.</b>
                    
                    入手とダウンロード
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">2. パネル説明</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../Editor/ScriptWindow.html">
            
                <a href="../Editor/ScriptWindow.html">
            
                    
                        <b>2.1.</b>
                    
                    世界ルール　エディター
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../Editor/ParameterWindow.html">
            
                <a href="../Editor/ParameterWindow.html">
            
                    
                        <b>2.2.</b>
                    
                    パラメータ　エディター
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../Editor/SavePresets.html">
            
                <a href="../Editor/SavePresets.html">
            
                    
                        <b>2.3.</b>
                    
                    プリセット管理
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">3. コード説明</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="LuaCode.html">
            
                <a href="LuaCode.html">
            
                    
                        <b>3.1.</b>
                    
                    世界の中心Lua
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="RunLua.html">
            
                <a href="RunLua.html">
            
                    
                        <b>3.1.1.</b>
                    
                    Luaの実装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="WriteLocalCode.html">
            
                <a href="WriteLocalCode.html">
            
                    
                        <b>3.1.2.</b>
                    
                    ローカルコード
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="importantFuncs.html">
            
                <a href="importantFuncs.html">
            
                    
                        <b>3.1.3.</b>
                    
                    一番重要な関数たち
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.4" data-path="LinkParameters.html">
            
                <a href="LinkParameters.html">
            
                    
                        <b>3.1.4.</b>
                    
                    パラメータリンク
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.5" data-path="globals.html">
            
                <a href="globals.html">
            
                    
                        <b>3.1.5.</b>
                    
                    グローバル変数
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="3.1.6" data-path="FuncList.html">
            
                <a href="FuncList.html">
            
                    
                        <b>3.1.6.</b>
                    
                    関数一覧表
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.7" data-path="Poly.html">
            
                <a href="Poly.html">
            
                    
                        <b>3.1.7.</b>
                    
                    Poly関数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.8" data-path="TransparencyRender.html">
            
                <a href="TransparencyRender.html">
            
                    
                        <b>3.1.8.</b>
                    
                    透明オブジェレンダー法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.9" data-path="RunGLSL.html">
            
                <a href="RunGLSL.html">
            
                    
                        <b>3.1.9.</b>
                    
                    LuaでGLSLを実行する
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../GLSL/GLSLCode.html">
            
                <a href="../GLSL/GLSLCode.html">
            
                    
                        <b>3.2.</b>
                    
                    グラフィックスバーサーカーGLSL
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1" data-path="../GLSL/GetStart.html">
            
                <a href="../GLSL/GetStart.html">
            
                    
                        <b>3.2.1.</b>
                    
                    クイックスタート
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.2" data-path="../GLSL/RunGLSL.html">
            
                <a href="../GLSL/RunGLSL.html">
            
                    
                        <b>3.2.2.</b>
                    
                    GLSLの実装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.3" data-path="../GLSL/Functions.html">
            
                <a href="../GLSL/Functions.html">
            
                    
                        <b>3.2.3.</b>
                    
                    内装関数
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.3.1" data-path="../GLSL/getColor.html">
            
                <a href="../GLSL/getColor.html">
            
                    
                        <b>3.2.3.1.</b>
                    
                    getColor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.3.2" data-path="../GLSL/uvxy.html">
            
                <a href="../GLSL/uvxy.html">
            
                    
                        <b>3.2.3.2.</b>
                    
                    uv2xy,xy2uv
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.2.4" data-path="../GLSL/LinkParameters.html">
            
                <a href="../GLSL/LinkParameters.html">
            
                    
                        <b>3.2.4.</b>
                    
                    パラメータリンク
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.5" data-path="../GLSL/debug.html">
            
                <a href="../GLSL/debug.html">
            
                    
                        <b>3.2.5.</b>
                    
                    デバッグ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.6" data-path="../GLSL/Advanced_settings.html">
            
                <a href="../GLSL/Advanced_settings.html">
            
                    
                        <b>3.2.6.</b>
                    
                    高級設定
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.7" data-path="../GLSL/predefined.html">
            
                <a href="../GLSL/predefined.html">
            
                    
                        <b>3.2.7.</b>
                    
                    プリコード
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../GLSL/shadertoy.html">
            
                <a href="../GLSL/shadertoy.html">
            
                    
                        <b>3.3.</b>
                    
                    テンプレート聖域shadertoy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="JavaScript.html">
            
                <a href="JavaScript.html">
            
                    
                        <b>3.4.</b>
                    
                    世界の郊外JavaScript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="CMDCode.html">
            
                <a href="CMDCode.html">
            
                    
                        <b>3.5.</b>
                    
                    世界の基盤CMD
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">4. シリアルナンバーに関して</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../Serial/SerialAttention.html">
            
                <a href="../Serial/SerialAttention.html">
            
                    
                        <b>4.1.</b>
                    
                    規約
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >関数一覧表</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="function-list">Function List</h1>
<hr>
<p>This page covers all functions provided in Lua render mode. </p>
<p><strong>Required functions</strong></p>
<p><a href="#version3">version3</a></p>
<p><strong>Parameter link functions</strong></p>
<p><a href="LinkParameters.html">slider</a>,
<a href="LinkParameters.html">angle</a>,
<a href="LinkParameters.html">point</a>,
<a href="LinkParameters.html">point3d</a>,
<a href="LinkParameters.html">checkbox</a>,
<a href="LinkParameters.html">color</a>,
<a href="LinkParameters.html">layer</a></p>
<p><strong>Print message functions</strong></p>
<p><a href="#print">print</a>,
<a href="#println">println</a>,
<a href="#alert">alert</a></p>
<p><strong>Transform functions</strong></p>
<p><a href="#move">move</a>,
<a href="#scale">scale</a>,
<a href="#rotate">rotate</a>,
<a href="#rotatex">rotateX</a>,
<a href="#rotatey">rotateY</a>,
<a href="#rotatez">rotateZ</a>,
<a href="#twirl">twirl</a></p>
<p><a href="#begingroup">beginGroup</a>,
<a href="#endgroup">endGroup</a>,
<a href="#beginglobal">beginGlobal</a>,
<a href="#endglobal">endGlobal</a></p>
<p><a href="#global2local">global2local</a>,
<a href="#local2global">local2global</a>,
<a href="#global2screen">global2screen</a>,
<a href="#screen2global">screen2global</a></p>
<p><a href="#gettransformmatrix">getTransformMatrix</a></p>
<p><strong>Draw functions</strong></p>
<blockquote>
<p>Primitives</p>
</blockquote>
<p><a href="#tri">tri</a>,
<a href="#quad">quad</a>,
<a href="#rect">rect</a>,
<a href="#circle">circle</a>,
<a href="#ellipse">ellipse</a>,
<a href="#par">par</a>,
<a href="#line">line</a></p>
<p><a href="#cube">cube</a>,
<a href="#tet">tet</a>,
<a href="#cone">cone</a>,
<a href="#ball">ball</a>,
<a href="#tube">tube</a></p>
<p><a href="#image">image</a>,
<a href="#coord">coord</a>,
<a href="#grid">grid</a></p>
<p><a href="Poly.html">poly</a>,
<a href="#setpoly">setPoly</a></p>
<p><a href="#background">background</a>,
<a href="#in2out">in2out</a> </p>
<blockquote>
<p>Attribute controls</p>
</blockquote>
<p><a href="#dim2">dim2</a>,
<a href="#dim3">dim3</a></p>
<p><a href="#perspective">perspective</a>,
<a href="#noperspective">noPerspective</a></p>
<p><a href="#fill">fill</a>,
<a href="#nofill">noFill</a>,
<a href="#stroke">stroke</a>,
<a href="#nostroke">noStroke</a>,
<a href="#dot">dot</a>,
<a href="#nodot">noDot</a></p>
<p><a href="#wireframe">wireframe</a>,
<a href="#nowireframe">noWireframe</a></p>
<p><a href="#blendalpha">blendAlpha</a>,
<a href="#noblendalpha">noBlendAlpha</a></p>
<p><a href="#back">back</a>,
<a href="#noback">noBack</a></p>
<p><a href="#pure">pure</a>,
<a href="#phong">phong</a>,
<a href="#anime">anime</a></p>
<p><a href="#rgba">rgba</a>,
<a href="#depth">depth</a>,
<a href="#normal">normal</a></p>
<p><a href="#setdepth">setDepth</a></p>
<blockquote>
<p>Lights</p>
</blockquote>
<p><a href="#ambientlight">ambientLight</a>,
<a href="#pointlight">pointLight</a>,
<a href="#parallellight">parallelLight</a></p>
<p><a href="#clearlight">clearLight</a>,
<a href="#getlight">getLight</a>  </p>
<blockquote>
<p>Camera function</p>
</blockquote>
<p><a href="#aecamera">aeCamera</a>,
<a href="#lookat">lookAt</a>,
<a href="#viewspace">viewSpace</a>  </p>
<blockquote>
<p>Stroke details</p>
</blockquote>
<p><a href="#strokewidth">strokeWidth</a>,
<a href="#strokedivision">strokeDivision</a>,
<a href="#strokeglobal">strokeGlobal</a>,
<a href="#strokelocal">strokeLocal</a>  </p>
<blockquote>
<p>Dot details</p>
</blockquote>
<p><a href="#dotradius">dotRadius</a>,
<a href="#dotdivision">dotDivision</a>,
<a href="#dotglobal">dotGlobal</a>,
<a href="#dotlocal">dotLocal</a> </p>
<blockquote>
<p>Output details</p>
</blockquote>
<p><a href="#smooth">smooth</a>,
<a href="#nosmooth">noSmooth</a> </p>
<p><strong>Utility tools</strong></p>
<p><a href="#r2d">r2d</a>,
<a href="#d2r">d2r</a></p>
<p><a href="#utf8tolocal">utf8ToLocal</a>,
<a href="#localtoutf8">localToUtf8</a></p>
<p><a href="#getglinfo">getGLInfo</a>,
<a href="#getdrawrecord">getDrawRecord</a>,
<a href="#getstatus">getStatus</a></p>
<p><a href="#getaudio">getAudio</a>  </p>
<p><strong>Read/Write pixels functions</strong></p>
<p><a href="#getcolor">getColor</a>,
<a href="#setcolor">setColor</a>,
<a href="#getsize">getSize</a>,</p>
<p><strong>Run code functions</strong></p>
<p><a href="#shadertoy">shadertoy</a>,
<a href="#glsl">glsl</a>,
<a href="#cmd">cmd</a>,
<a href="#lua">lua</a>,
<a href="#runfile">runFile</a>,
<a href="#txt">txt</a>  </p>
<hr>
<p><br><br><br><br><br></p>
<h1 id="detailed-descriptions">Detailed descriptions</h1>
<h2 id="version3">version3</h2>
<p><code>version3()</code> function must be called in the first line. It put all functions that in the table <code>pw3</code> to the global field. If you don&apos;t call it, you need to add a <code>pw3.</code> prefix to all the function provided by PixelsWorld. For instance, the following demonstrated function <code>print()</code> should be <code>pw3.print()</code>. On the contrary, If you call the function <code>version3()</code> in the first line, the <code>pw3.</code> prefix could be omitted. This function is designed for backward compatibility. We recommend calling <code>version3()</code> in the first line any time you use Lua render mode. </p>
<div><p class="code-filename">version3.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello PixelsWorld! &quot;</span><span class="token punctuation">)</span>
</code></pre>
<div><p class="code-filename">without_version3.lua</p></div>
<pre class="language-"><code class="lang-lua">pw3<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello PixelsWorld! &quot;</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="print">print</h2>
<p><code>print(str)</code>,<code>print(str,brightness)</code>,<code>print(str,r,g,b)</code>,<code>print(str,r,g,b,a)</code> prints message to the left top corner of your scene. </p>
<div><p class="code-filename">print.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;Hello PixelsWorld! &quot;</span><span class="token punctuation">)</span>
str <span class="token operator">=</span> <span class="token string">&quot;Hello, I am colorful PixelsWorld! &quot;</span>
<span class="token keyword">for</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">#</span>str <span class="token keyword">do</span>
<span class="token keyword">local</span> c <span class="token operator">=</span> str<span class="token punctuation">:</span><span class="token function">sub</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>i<span class="token punctuation">)</span>
<span class="token keyword">local</span> phase <span class="token operator">=</span> math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>i<span class="token operator">/</span><span class="token operator">#</span>str<span class="token operator">*</span>TPI <span class="token operator">+</span> time<span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">.5</span>
<span class="token function">print</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span>phase<span class="token punctuation">,</span><span class="token number">1</span><span class="token operator">-</span>phase<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="println">println</h2>
<p><code>println(str)</code>,<code>println(str,brightness)</code>,<code>println(str,r,g,b)</code>,<code>println(str,r,g,b,a)</code> prints message to the left top corner of your scene, this function adds <code>\n</code> in the end of input string. </p>
<div><p class="code-filename">println.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello PixelsWorld! &quot;</span><span class="token punctuation">)</span>
str <span class="token operator">=</span> <span class="token string">&quot;Hello, I am colorful PixelsWorld! &quot;</span>
<span class="token keyword">for</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">#</span>str <span class="token keyword">do</span>
<span class="token keyword">local</span> c <span class="token operator">=</span> str<span class="token punctuation">:</span><span class="token function">sub</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>i<span class="token punctuation">)</span>
<span class="token keyword">local</span> phase <span class="token operator">=</span> math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>i<span class="token operator">/</span><span class="token operator">#</span>str<span class="token operator">*</span>TPI <span class="token operator">+</span> time<span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">.5</span>
<span class="token comment">-- println(c,phase,1-phase,1,1)</span>
<span class="token function">print</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span>phase<span class="token punctuation">,</span><span class="token number">1</span><span class="token operator">-</span>phase<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="alert">alert</h2>
<p><code>alert(str)</code> prints <strong>caution</strong> message, equals to <code>println(str,1,1,0,1)</code></p>
<div><p class="code-filename">alert.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Warning: Write your message here! &quot;</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="move">move</h2>
<p><code>move(x,y)</code>,<code>move(x,y,z)</code>moves Paintbrush. </p>
<blockquote>
<p>All transforms are done basing on the Paintbrush coordinate. </p>
</blockquote>
<p>Example: </p>
<div><p class="code-filename">move.md</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">coord</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- show Paintbrush coordinate</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">coord</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- show Paintbrush coordinate</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">coord</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- show Paintbrush coordinate</span>
</code></pre>
<p>Finally, the Paintbrush is located at <code>(100,100,0)</code>. </p>
<h2 id="scale">scale</h2>
<p><code>scale(ratio)</code>,<code>scale(x,y)</code>,<code>scale(x,y,z)</code>scales the Paintbrush coordinate. </p>
<blockquote>
<p>All transforms are done basing on the Paintbrush coordinate. </p>
</blockquote>
<h2 id="rotate">rotate</h2>
<h2 id="rotatex">rotateX</h2>
<h2 id="rotatey">rotateY</h2>
<h2 id="rotatez">rotateZ</h2>
<p><code>rotate(theta)</code>rotates Paintbrush with <code>theta</code> radians. <code>rotateX(theta)</code> rotates Paintbrush along X axis. <code>rotate(theta)</code> equals to <code>rotateZ(theta)</code>. </p>
<blockquote>
<p>All transforms are done basing on the Paintbrush coordinate. </p>
<ul>
<li>If you are not familiar with radians, use <code>d2r(degree)</code> to convert a degree to a radian. For example&#xFF1A;<code>rotate(d2r(90))</code> means rotate 90 degrees. </li>
</ul>
</blockquote>
<h2 id="twirl">twirl</h2>
<p><code>twirl(theta,x,y,z)</code> rotates Paintbrush along <code>(x,y,z)</code> axis with <code>theta</code> radians. For example, above-mentioned <code>rotateX(theta)</code> equals to <code>twirl(theta,1,0,0)</code>.</p>
<blockquote>
<p>All transforms are done basing on the Paintbrush coordinate. </p>
<ul>
<li><code>twirl</code> is an matrix implementation of quaternion rotation. </li>
</ul>
</blockquote>
<h2 id="begingroup">beginGroup</h2>
<h2 id="endgroup">endGroup</h2>
<ol>
<li><code>beginGroup()</code>,<code>endGroup()</code> creates a children transformation group. Transformations(<code>move,scale,rotate,twirl</code>) between <code>beginGroup()</code> and <code>endGroup()</code> will be canceled after calling <code>endGroup()</code>.</li>
<li><code>beginGroup(mat)</code> pushes mat as a children transformation group (Use <a href="#gettransformmatrix">getTransformMatrix</a> to get the transform matrix). </li>
</ol>
<blockquote>
<p>It equals to <code>pushMatrix()</code> and <code>popMatrix()</code> in Processing. </p>
</blockquote>
<p>Example: The following two code are equivalent. </p>
<div><p class="code-filename">group.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span> <span class="token keyword">do</span>
<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span>i<span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">,</span>i<span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">rotate</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token operator">*</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre>
<div><p class="code-filename">without_group.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span> <span class="token keyword">do</span>
<span class="token function">move</span><span class="token punctuation">(</span>i<span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">,</span>i<span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">rotate</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token operator">*</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
<span class="token function">rotate</span><span class="token punctuation">(</span><span class="token function">d2r</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">45</span><span class="token operator">*</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token operator">-</span>i<span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token operator">-</span>i<span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="beginglobal">beginGlobal</h2>
<h2 id="endglobal">endGlobal</h2>
<p>Draw functions between <code>beginGlobal</code> and <code>endGlobal</code> will draw shapes in global coordinates. </p>
<div><p class="code-filename">beginGlobal.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">-- green</span>
<span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token comment">-- Dran on (100,100,0)</span>
<span class="token function">beginGlobal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">-- red</span>
<span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token comment">-- Draw on (0,0,0)</span>
<span class="token function">endGlobal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">-- blue</span>
<span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token comment">-- Draw on (200,200,0)</span>
</code></pre>
<h2 id="global2local">global2local</h2>
<p><code>global2local(x,y,z)</code> converts a global point to a local point. Returns 3 doubles. </p>
<h2 id="local2global">local2global</h2>
<p><code>local2global(x,y,z)</code> converts a local point to a global point. Returns 3 doubles. </p>
<h2 id="global2screen">global2screen</h2>
<p><code>global2screen(x,y,z)</code> converts a global point to a screen point. Returns 3 doubles. </p>
<blockquote>
<p>The result is affected by perspective mode. </p>
</blockquote>
<h2 id="screen2global">screen2global</h2>
<p><code>screen2global(x,y,z)</code> converts a screen point to a global point. Returns 3 doubles. </p>
<blockquote>
<p>The result is affected by perspective mode. </p>
</blockquote>
<h2 id="gettransformmatrix">getTransformMatrix</h2>
<p><code>getTransformMatrix()</code> returns a column major 4x4 transform matrix. </p>
<blockquote>
<p><code>mat[i][j]</code> returns the entry in <code>i</code>th column <code>j</code>th row. (<code>i</code>,<code>j</code>range: 1~4)</p>
</blockquote>
<div><p class="code-filename">matrix.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">,</span>height<span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token function">twirl</span><span class="token punctuation">(</span>QPI<span class="token operator">*</span>time<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
cubetransform <span class="token operator">=</span> <span class="token function">getTransformMatrix</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">beginGroup</span><span class="token punctuation">(</span>cubetransform<span class="token punctuation">)</span>
<span class="token function">cube</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="tri">tri</h2>
<ol>
<li><code>tri(radius)</code> draws a regular triangle with radius <code>radius</code>, and the triangle will point to the positive direction of Y axis.</li>
<li><code>tri()</code> equals to <code>tri(100)</code></li>
<li><code>tri(w,h)</code>draws a triangle with base length <code>w</code> and height <code>h</code>. </li>
<li><code>tri(p1x,p1y,p2x,p2y,p3x,p3y)</code> draws a triangle basing on 3 points <code>p1,p2,p3</code>.</li>
<li><code>tri(p1x,p1y,p1z,p2x,p2y,p2z,p3x,p3y,p3z)</code> draws a triangle basing on 3 points <code>p1,p2,p3</code>. </li>
</ol>
<blockquote>
<ul>
<li>Add <code>dim3()</code> after <code>version3()</code>, and add a camera layer to your Ae comp to view the 3D triangle. </li>
<li>The first 3 functions set normals to (0,0,-1) basing on the current Paintbrush coordinate. The last 2 functions calculate normals with formula: <code>cross(p1-p2,p3-p2)</code>.</li>
<li><code>tri</code> is an abbreviation of <code>triangle</code></li>
</ul>
</blockquote>
<div><p class="code-filename">tri1.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token function">tri</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
</code></pre>
<div><p class="code-filename">tri5.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token function">tri</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="quad">quad</h2>
<ol>
<li><code>quad(p1x,p1y,p2x,p2y,p3x,p3y,p4x,p4y)</code></li>
<li><code>quad(p1x,p1y,p1z,p2x,p2y,p2z,p3x,p3y,p3z,p4x,p4y,p4z)</code></li>
</ol>
<blockquote>
<ul>
<li>Draws 2 triangles with order: <code>p1,p2,p3</code>,then <code>p1,p3,p4</code>.</li>
</ul>
</blockquote>
<h2 id="rect">rect</h2>
<ol>
<li><code>rect(size)</code> draws a square with <code>size</code>. </li>
<li><code>rect()</code> equals to <code>rect(100)</code></li>
<li><code>rect(width,height)</code> draws a rectangle with width <code>width</code> and height <code>height</code>. </li>
</ol>
<blockquote>
<ul>
<li>The intersection point of rectangle is at the origin of Paintbrush coordinate.  </li>
<li><code>rect</code> is an abbreviation of <code>rectangle</code>. </li>
</ul>
</blockquote>
<h2 id="circle">circle</h2>
<ol>
<li><code>circle(radius)</code> draws a circle with radius <code>radius</code>. </li>
<li><code>circle()</code> equals to <code>circle(100)</code></li>
<li><code>circle(radius, div)</code> draws a circle with radius <code>radius</code>, and subdivision <code>div</code>. </li>
</ol>
<blockquote>
<p>Default subdivision: 128</p>
</blockquote>
<h2 id="ellipse">ellipse</h2>
<ol>
<li><code>ellipse(radiusx,radiusy)</code>draws an ellipse with x radius<code>radiusx</code>, y radius <code>radiusy</code>. </li>
<li><code>ellipse()</code> equals to <code>ellipse(100,100)</code></li>
<li><code>ellipse(radiusx,radiusy,div)</code> draws an ellipse with x radius<code>radiusx</code>, y radius <code>radiusy</code> and subdivision <code>div</code>.</li>
</ol>
<blockquote>
<p>Default subdivision: 128</p>
</blockquote>
<h2 id="line">line</h2>
<ol>
<li><code>line(p1x,p1y,p2x,p2y)</code> draws a line. </li>
<li><code>line(p1x,p1y,p1z,p2x,p2y,p2z)</code> draws a 3d line. </li>
<li><code>line()</code> equals to <code>line(0,0,0,100,100,100)</code></li>
</ol>
<blockquote>
<ul>
<li>Use <code>stroke(r,g,b)</code> to change the color. </li>
<li>Use<code>strokeWidth(width)</code> to change the width. </li>
<li>Use <code>noStroke()</code> to turn off line render, <code>stroke()</code> to turn on line render. </li>
</ul>
</blockquote>
<h2 id="par">par</h2>
<ol>
<li><code>par(x)</code> draws a point at<code>(x,0,0)</code>.</li>
<li><code>par(x,y)</code> draws a point at<code>(x,y,0)</code>.</li>
<li><code>par(x,y,z)</code> draws a point at<code>(x,y,z)</code>.</li>
<li><code>par()</code> equals to <code>par(0,0,0)</code></li>
</ol>
<blockquote>
<ul>
<li>By default, the point render is turned off, use <code>dot()</code> to turn it on. You can call <code>noDot()</code> to turn it off again. </li>
<li><code>dotRadius(radius)</code> controls point radius. </li>
<li><code>dot(r,g,b)</code> controls point color. </li>
<li><code>dotGlobal()</code> makes point be avoid to be squeezed by <code>scale</code>. By default, points are rendered with <code>dotLocal()</code>.</li>
</ul>
</blockquote>
<h2 id="cube">cube</h2>
<ol>
<li><code>cube(size)</code> draws a cube with size <code>size</code></li>
<li><code>cube(sizex,sizey,sizez)</code> draws a cuboid with dimension <code>sizex,sizey,sizez</code>.</li>
<li><code>cube()</code> equals to <code>cube(100)</code></li>
<li><code>cube()</code></li>
</ol>
<blockquote>
<p>Negative inputs or negative <code>scale()</code> would cause wrong normals. </p>
</blockquote>
<h2 id="tet">tet</h2>
<ol>
<li><code>tet(radius)</code> draws a regular tetrahedron with radius <code>radius</code>. </li>
<li><code>tet()</code> equals to <code>tet(50)</code></li>
<li><code>tet(p1x,p1y,p1z,p2x,p2y,p2z,p3x,p3y,p3z,p4x,p4y,p4z)</code> draws tetrahedron basing on 4 points <code>p1,p2,p3,p4</code>.</li>
</ol>
<blockquote>
<ul>
<li>The 3rd function generates normals basing on <code>tri</code> function and calls it with the following points order: <code>p1,p2,p3; p2,p1,p4; p3,p2,p4; p1,p3,p4.</code>. See also: <a href="#tri"><code>tri</code></a>. </li>
<li><code>tet</code> is an abbreviation of <code>tetrahedron</code>. </li>
</ul>
</blockquote>
<h2 id="cone">cone</h2>
<ol>
<li><code>cone(size)</code> draws a cone with base circle radius <code>size</code> and height <code>2*size</code>.  </li>
<li><code>cone()</code> equals to <code>cone(50)</code>. </li>
<li><code>cone(radius,height)</code> draws a cone with base circle radius <code>radius</code> and height <code>height</code>.</li>
<li><code>cone(radius,height,div)</code> draws a cone with base circle radius <code>radius</code>, height <code>height</code> and subdivision <code>div</code>. </li>
</ol>
<blockquote>
<ul>
<li>Default subdivision: 64</li>
<li>If <code>sub</code> is greater than 16, the side stroke and base point will be hidden. 
Negative inputs or negative <code>scale()</code> would cause wrong normals. </li>
</ul>
</blockquote>
<h2 id="ball">ball</h2>
<ol>
<li><code>ball(radius)</code> draws a sphere with radius <code>radius</code>.</li>
<li><code>ball()</code> equals to <code>ball(50)</code>. </li>
<li><code>ball(radius,level)</code> draw a ball with radius <code>radius</code> and subdivision level <code>level</code>. </li>
</ol>
<blockquote>
<ul>
<li>Default subdivision level 4. </li>
<li><code>level</code> must be non-negative. </li>
<li><code>level</code> 0 generates a regular octahedron. </li>
<li>If <code>level</code> is greater than 2, the strokes and points will be hidden. 
Negative inputs or negative <code>scale()</code> would cause wrong normals. </li>
</ul>
</blockquote>
<h2 id="tube">tube</h2>
<ol>
<li><code>tube(size)</code> draws a tube with base circle radius <code>size</code> and height <code>2*size</code>.</li>
<li><code>tube()</code> equals to <code>tube(50)</code></li>
<li><code>tube(radius,height)</code>draws a tube with base circle radius <code>radius</code> and height <code>height</code>.</li>
<li><code>tube(radius1,radius2,height)</code> draws a tube with close base circle radius <code>radius1</code>, far base circle radius <code>radius2</code> and height <code>height</code>.</li>
<li><code>tube(radius1,radius2,height,div)</code> can change the subdivision. </li>
<li><code>tube(radius1,radius2,height,div,needMesh)</code> can change render 2 base circles or not. </li>
<li><code>tube(radius1,radius2,height,div,needMesh1,needMesh2)</code> can change render 2 base circles or not separately. </li>
</ol>
<blockquote>
<ul>
<li>Default <code>div</code>: 64. </li>
<li><code>needMesh</code> is <code>true</code> by default. </li>
<li>If <code>div</code> is greater than 16, the side strokes and the base points will be hidden. 
Negative inputs or negative <code>scale()</code> would cause wrong normals. </li>
</ul>
</blockquote>
<h2 id="image">image</h2>
<ol>
<li><code>image(id,width,height)</code> draws an image with width <code>width</code> and height <code>height</code>. </li>
</ol>
<blockquote>
<ul>
<li><code>id</code> is texture id,<code>PARAM0</code>~<code>PARAM9</code>means texture load from the layer parameters, <code>INPUT</code> means input image, <code>OUTPUT</code> means output image. </li>
<li>If <code>id</code> is <code>OUTPUT</code>, it will be slow because we need to take a screenshot of your scene. </li>
<li>The difference with <code>in2out(id)</code> is, <code>image(id,width,height)</code> draws a rectangle with a texture, which could interact with the depth buffers, where <code>in2out(id)</code> just copy pixels from one texture to another. This is also means the image that is drawn to the screen is inversed by default (The default coordinate system of Ae is Y axis downward), so you may need <code>rotateX(PI)</code> to fix it. (And we don&apos;t recommend calling <code>scale(1,-1)</code>, which may cause wrong normals problem. </li>
</ul>
</blockquote>
<p>Example: </p>
<div><p class="code-filename">render_image.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token function">beginGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">rotateX</span><span class="token punctuation">(</span>PI<span class="token punctuation">)</span>
<span class="token function">image</span><span class="token punctuation">(</span>INPUT<span class="token punctuation">,</span>width<span class="token punctuation">,</span>height<span class="token punctuation">)</span>
<span class="token function">endGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">rotateX</span><span class="token punctuation">(</span>QPI <span class="token operator">*</span> time<span class="token punctuation">)</span>
<span class="token function">rotateY</span><span class="token punctuation">(</span>QPI <span class="token operator">*</span> time<span class="token punctuation">)</span>
<span class="token function">cube</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="coord">coord</h2>
<p><code>coord()</code> draws the current Paintbrush coordinate. </p>
<h2 id="grid">grid</h2>
<p><code>grid()</code> draws a grid with many 100x100px squares. </p>
<h2 id="setpoly">setPoly</h2>
<p><code>setPoly(obj)</code> analyzes obj only, use <code>poly()</code> to draw the previous set obj to scene. </p>
<blockquote>
<ul>
<li>It will be efficient in the case you draw a same obj for many times. </li>
<li>See also <a href="Poly.html">Poly</a></li>
</ul>
</blockquote>
<h2 id="background">background</h2>
<p><code>background(brightness)</code>,<code>background(r,g,b)</code>,<code>background(r,g,b,a)</code> draws a pure color rectangle to scene.</p>
<blockquote>
<ul>
<li>Notes: This function overrides all shapes you drew before. </li>
</ul>
</blockquote>
<h2 id="in2out">in2out</h2>
<ol>
<li><code>in2out(id)</code> set the <code>id</code> texture to the scene. </li>
<li><code>in2out()</code> equals to <code>in2out(INPUT)</code></li>
</ol>
<blockquote>
<p><code>id</code> range: <code>PARAM0</code>~<code>PARAM9</code> or <code>INPUT</code>. </p>
</blockquote>
<h2 id="dim2">dim2</h2>
<p><code>dim2()</code> set the scene to 2D mode. 2D mode is on by default, you usually no need to call it. </p>
<blockquote>
<p>In PixelsWorld, 2D scene means a 3D scene without depth test and perspective. </p>
</blockquote>
<h2 id="dim3">dim3</h2>
<p><code>dim3()</code> set the scene to 3D mode. Call it immediately after <code>version3()</code>. </p>
<blockquote>
<p>Note: Use <a href="#verspace"><code>viewSpace</code></a> to change the far plane dimension if your layer size is not equal to the comp size. Otherwise, the shapes in 3D mode will be rendered to an unexprected position. </p>
</blockquote>
<h2 id="perspective">perspective</h2>
<p><code>perspective()</code> set the scene to perspective mode, everything looks small in the distance and big on the contrary. Use <a href="#viewspace">viewSpace</a> to change the camera information. Use <a href="#lookat">lookAt</a> to set the location of the camera. </p>
<blockquote>
<p>Perspective mode is on by default after calling <code>dim3()</code>. </p>
</blockquote>
<h2 id="noperspective">noPerspective</h2>
<p><code>noPerspective()</code> set the scene to orthogonal mode. </p>
<h2 id="fill">fill</h2>
<ol>
<li><code>fill()</code> turns on fill mode. </li>
<li><code>fill(brightness)</code>,<code>fill(r,g,b)</code>,<code>fill(r,g,b,a)</code> turns on fill mode and set fill color.</li>
</ol>
<blockquote>
<ul>
<li>Note: If you set <code>Alpha</code> smaller than 1, render far object first, or you will get wrong render results due to the depth test. (This is a feature of OpenGL render)</li>
</ul>
</blockquote>
<h2 id="nofill">noFill</h2>
<p><code>noFill()</code> turns off the fill mode.</p>
<h2 id="stroke">stroke</h2>
<ol>
<li><code>stroke()</code> turns on the stroke mode. </li>
<li><code>stroke(brightness)</code>,<code>stroke(r,g,b)</code>,<code>stroke(r,g,b,a)</code> turns on stroke mode and set the stroke color. </li>
</ol>
<h2 id="nostroke">noStroke</h2>
<p><code>noStroke()</code> turns off stroke mode. </p>
<h2 id="dot">dot</h2>
<ol>
<li><code>dot()</code> turns on the dot mode. </li>
<li><code>dot(brightness)</code>,<code>dot(r,g,b)</code>,<code>dot(r,g,b,a)</code> turns on the dot mode and set the dot color. </li>
</ol>
<h2 id="nodot">noDot</h2>
<p><code>noDot()</code> turns off the dot mode. </p>
<h2 id="wireframe">wireframe</h2>
<p><code>wireframe()</code> turns on the wireframe mode.</p>
<h2 id="nowireframe">noWireframe</h2>
<p><code>noWireframe()</code> turns off the wireframe mode.</p>
<h2 id="blendalpha">blendAlpha</h2>
<p><code>blendAlpha()</code> turns on the alpha blending. </p>
<h2 id="noblendalpha">noBlendAlpha</h2>
<p><code>noBlendAlpha</code> turns off the alpha blending. </p>
<h2 id="back">back</h2>
<p><code>back()</code> If the fill alpha is smaller than 1, back mode shows the back side of an obj. Off by default. </p>
<h2 id="noback">noBack</h2>
<p><code>noBack()</code> turn off back mode. </p>
<h2 id="pure">pure</h2>
<p><code>pure()</code> use pure color to render. On by default. </p>
<blockquote>
<p>anime, phong, pure are 3 dependent mode, turn on one may turn off the other two. </p>
</blockquote>
<h2 id="phong">phong</h2>
<ol>
<li><code>phong(ambient,diffuse,specular,specularPower)</code> turns on the phong render mode, and set the ambient strength to <code>ambient</code>, diffuse strength to <code>diffuse</code>, specular strength to <code>specular</code>, specular damping power to <code>specularPower</code>. </li>
<li><code>phong()</code> only turn on the phong render mode, it doesn&apos;t change the configs. </li>
</ol>
<blockquote>
<ul>
<li>By default, there is no light in the scene, call <a href="#getlight">getLight()</a>, <a href="#ambientlight">ambientLight()</a>, <a href="#parallellight">parallelLight()</a>, <a href="#pointlight">pointLight</a> to add lights. </li>
<li>If you are sure there are lights in your scene but the obj is black, call <a href="#normal">normal</a> to check if the normal is right. </li>
<li>Default settings: ambient:1,diffuse:1,specular:1,specularPower:1. </li>
<li>anime, phong, pure are 3 dependent mode, turn on one may turn off the other two. </li>
<li>Call <a href="#dim3">dim3()</a> before calling this function. </li>
</ul>
</blockquote>
<h2 id="anime">anime</h2>
<ol>
<li><code>anime(ambient,diffuse,specular,specularPower,diffuseThreshold,specularThreshold)</code></li>
<li><code>anime()</code> turns on the anime render mode. </li>
</ol>
<blockquote>
<ul>
<li>anime render mode is based on <a href="#phong">phong</a>, hence the first 4 arguments <code>ambient,diffuse,specular,specularPower</code> are same with phong render mode. <code>diffuseThreshold</code> configs the diffusion threshold, if diffuse lightnees in a pixel is bigger than threshold, it will be white. Otherwise it will be dark. <code>specularThreshold</code> is threshold of specular. </li>
<li>The anime render mode smooth the light-dark border when you turn on the smooth settings in plugin panel. </li>
<li>Default settings: ambient:1,diffuse:1,specular:1,specularPower:1,diffuseThreshold:0.5,specularThreshold:0.8
anime, phong, pure are 3 dependent mode, turn on one may turn off the other two. </li>
<li>Call <a href="#dim3">dim3()</a> before calling this function. </li>
</ul>
</blockquote>
<h2 id="rgba">rgba</h2>
<p><code>rgba()</code>RGBA output mode, on by default.</p>
<blockquote>
<ul>
<li>rgba, depth, normal are 3 dependent mode, turn on one may turn off the other two. </li>
<li>You can use <code>phong(),anime()</code> in this output mode. </li>
</ul>
</blockquote>
<h2 id="depth">depth</h2>
<p><code>depth(blackDistance, whiteDistance)</code> depth output mode. Set pixels at distance <code>blackDistance</code> to black, pixels at distance <code>whiteDistance</code> to white. If they are same, PixelsWorld set the pixels that nearer than the value you set to black, otherwise white.  </p>
<blockquote>
<ul>
<li>rgba, depth, normal are 3 dependent mode, turn on one may turn off the other two. </li>
<li><code>phong(),anime()</code> will be ignored in this output mode. </li>
<li>Call <a href="#dim3">dim3()</a> before calling this function. </li>
</ul>
</blockquote>
<h2 id="normal">normal</h2>
<ol>
<li><code>normal(faceToCamera, normalize)</code> turns the normal output mode on, and configs faceToCamera and normalize. </li>
<li><code>normal(faceToCamera)</code> turns the normal output mode on, and configs faceToCamera. </li>
<li><code>normal()</code> only turns the normal output mode on. </li>
</ol>
<blockquote>
<ul>
<li><code>faceToCamera</code> is a boolean, <code>true</code> means the normals are calculated basing on camera location. <code>false</code> means the normals are calculated basing on the global coordinate. </li>
<li><code>normalize</code> is a boolean. </li>
<li>Default settings: faceToCamera:true, normalize:true.</li>
<li>rgba, depth, normal are 3 dependent mode, turn on one may turn off the other two. </li>
<li><code>phong(),anime()</code> will be ignored in this output mode. </li>
<li>Call <a href="#dim3">dim3()</a> before calling this function. </li>
</ul>
</blockquote>
<h2 id="setdepth">setDepth</h2>
<p><code>setDepth(id,blackDistance,whiteDistance)</code> reads the <strong>red channel</strong> of texture <code>id</code>, maps color basing on <code>blackDistance,whiteDistance</code> to the depth test buffer in the scene.</p>
<blockquote>
<ul>
<li>The depth sequence from other 3DCG softwares can be loaded into PixelsWorld through this function. Namely the shapes can interact with the color sequence rendered from other 3DCG softwares. </li>
<li>Call <a href="#dim3">dim3()</a> before calling this function. </li>
<li>Valid texture id: <code>INPUT</code>,<code>PARAM0</code>~<code>PARAM9</code></li>
</ul>
</blockquote>
<h2 id="ambientlight">ambientLight</h2>
<ol>
<li><code>ambientLight(r,b,g,intensity)</code></li>
<li><code>ambientLight()</code> equals to <code>ambientLight(1,1,1,1)</code></li>
<li><code>ambientLight(brightness)</code> equals to <code>ambientLight(brightness,brightness,brightness,1)</code></li>
<li><code>ambientLight(brightness,intensity)</code> equals to <code>ambientLight(brightness,brightness,brightness,intensity)</code></li>
<li><code>ambientLight(r,g,b)</code> equals to <code>ambientLight(r,b,g,1)</code></li>
</ol>
<blockquote>
<ul>
<li>Adds a ambient light to the scene. Valid to all objs. </li>
<li>Objs are lit up by this kind of lights even if they has wrong normals. </li>
</ul>
</blockquote>
<h2 id="pointlight">pointLight</h2>
<ol>
<li><code>pointLight(r,g,b,intensity,radius,smoothWidth)</code></li>
<li><code>pointLight()</code> equals to <code>pointLight(1,1,1,1,1000,1000)</code></li>
<li><code>pointLight(brightness,intensity)</code> equals to <code>pointLight(brightness,brightness,brightness,intensity,1000,1000)</code></li>
<li><code>pointLight(r,g,b)</code> equals to <code>pointLight(r,g,b,1,1000,1000)</code></li>
<li><code>pointLight(r,g,b,intensity)</code> equals to <code>pointLight(r,g,b,intensity,1000,1000)</code></li>
<li><code>pointLight(r,g,b,intensity,radiusAndSmoothWidth)</code> equals to <code>pointLight(r,g,b,intensity,radiusAndSmoothWidth,radiusAndSmoothWidth)</code></li>
</ol>
<blockquote>
<ul>
<li>Adds a point light in the current Paintbrush coordinate. </li>
<li>This light is affected by objs&apos; normals. The specular and diffuse will be failed if the normals are inward, but the ambient brightness of point light still lights up the objs. </li>
<li><code>radius</code> is range radius of point light. Range from <code>radius</code> to <code>radius+smoothWidth</code>, the brightness damps.</li>
</ul>
</blockquote>
<h2 id="parallellight">parallelLight</h2>
<ol>
<li><code>parallelLight(r,g,b,intensity,tx,ty,tz)</code></li>
</ol>
<blockquote>
<ul>
<li>Adds a parallel light with direction vector <code>(tx,ty,tz)</code>.</li>
</ul>
</blockquote>
<h2 id="clearlight">clearLight</h2>
<p><code>clearLight()</code> removes all lights in the scene. </p>
<h2 id="getlight">getLight</h2>
<ol>
<li><code>getLight(matchName)</code></li>
<li><code>getLight()</code> equals to <code>getLight(&quot;*&quot;)</code></li>
</ol>
<blockquote>
<ul>
<li>Gets lights that match the name <code>matchName</code>.</li>
<li><code>matchName</code> rules&#xFF1A;If <code>matchName</code> doesn&apos;t end up with character <code>&quot;*&quot;</code>, it searches one Ae lights that its name is <code>matchName</code>, otherwise, it includes all Ae lights that begin with <code>matchName</code>. </li>
<li>Supported Ae lights: ambient,point,parallel</li>
</ul>
</blockquote>
<h2 id="aecamera">aeCamera</h2>
<p><code>aeCamera()</code> sets the Ae activated camera to the scene camera of PixelsWorld. </p>
<h2 id="lookat">lookAt</h2>
<ol>
<li><code>lookAt(eyePosX,eyePosY,eyePosZ,objPosX,objPosY,objPosZ,upVecX,upVecY,upVecZ)</code> sets the location and orientation of the current scene camera. </li>
<li><code>lookAt(eyePosX,eyePosY,eyePosZ,objPosX,objPosY,objPosZ)</code> equals to <code>lookAt(eyePosX,eyePosY,eyePosZ,objPosX,objPosY,objPosZ,0,-1,0)</code></li>
</ol>
<blockquote>
<ul>
<li><code>eyePos</code> is the location of your eyes, <code>objPos</code> is the location of the object you are looking at,<code>upVec</code> the direction your top of head pointing to. </li>
<li>Note: Y axis in Ae is downward by default, usually set the <code>upVec</code> to (0,-1,0) is enough.</li>
<li><code>eyePos</code> and <code>objPos</code> cannot be too close. (should be bigger than <code>1e-7</code>).</li>
<li><code>upVec</code> cannot be parallel to your sight.</li>
<li>The length of <code>upVec</code> cannot be too small.</li>
</ul>
</blockquote>
<h2 id="viewspace">viewSpace</h2>
<ol>
<li><code>viewSpace(width,height,distanceToPlane,farLevel)</code></li>
<li><code>viewSpace(width,height,distanceToPlane)</code> equals to <code>viewSpace(width,height,distanceToPlane,4)</code></li>
</ol>
<blockquote>
<ul>
<li><code>width</code> and <code>height</code> is the dimension of the far plane. </li>
<li>The perpendicular distance from camera to camera far plane is <code>distanceToPlane</code></li>
<li><code>farLevel * distanceToPlane</code> is the clip plane distance. Objs that farther than this distance will be clipped out. Normally it is enough to left the <code>farLevel</code> 4, set it to higher number if your scene is pretty vast. Note that if the <code>farLevel</code> is too high, the depth test precision of near objs may decline. </li>
</ul>
</blockquote>
<h2 id="strokewidth">strokeWidth</h2>
<p><code>strokeWidth(width)</code></p>
<blockquote>
<p>Default: 2</p>
</blockquote>
<h2 id="strokedivision">strokeDivision</h2>
<p><code>strokeDivision(level)</code></p>
<blockquote>
<p>Default: 3</p>
</blockquote>
<h2 id="strokeglobal">strokeGlobal</h2>
<p><code>strokeGlobal()</code> draw lines globally. Lines will no longer be squeezed by <code>scale</code> function. </p>
<blockquote>
<ul>
<li>Default: local</li>
</ul>
</blockquote>
<h2 id="strokelocal">strokeLocal</h2>
<p><code>strokeLocal()</code> draw lines locally. Lines will be squeezed by <code>scale</code> function.</p>
<blockquote>
<ul>
<li>Default: local</li>
</ul>
</blockquote>
<h2 id="dotradius">dotRadius</h2>
<p><code>dotRadius(radius)</code></p>
<blockquote>
<ul>
<li>Default: 2</li>
</ul>
</blockquote>
<h2 id="dotdivision">dotDivision</h2>
<p><code>dotDivision(level)</code></p>
<blockquote>
<ul>
<li>Default: 3</li>
<li>Maximum: 7</li>
</ul>
</blockquote>
<h2 id="dotglobal">dotGlobal</h2>
<p><code>dotGlobal()</code> Draw points globally. Points will no longer be squeezed by <code>scale</code> function. </p>
<blockquote>
<ul>
<li>Default: local</li>
</ul>
</blockquote>
<h2 id="dotlocal">dotLocal</h2>
<p><code>dotLocal()</code> Draw points locally. Points will be squeezed by <code>scale</code> function. </p>
<blockquote>
<ul>
<li>Default: local</li>
</ul>
</blockquote>
<h2 id="smooth">smooth</h2>
<p><code>smooth()</code> Smooth render mode. </p>
<blockquote>
<p>Default: on
The smooth strength can be changed in plugin panel. </p>
</blockquote>
<h2 id="nosmooth">noSmooth</h2>
<p><code>noSmooth()</code> Pixel art render mode. </p>
<blockquote>
<p>The priority of this function is higher than settings in plugin panel.</p>
</blockquote>
<h2 id="r2d">r2d</h2>
<p><code>r2d(degrees)</code> radians to degrees, return degrees. </p>
<h2 id="d2r">d2r</h2>
<p><code>d2r(radians)</code> degrees to radians, return radians</p>
<h2 id="utf8tolocal">utf8ToLocal</h2>
<p><code>utf8ToLocal(str)</code> unicode string to local string. </p>
<blockquote>
<p>Call this function to translate paths while you are handling Lua&apos;s <code>io</code> module. </p>
</blockquote>
<h2 id="localtoutf8">localToUtf8</h2>
<p><code>localToUtf8(str)</code>local string to unicode string</p>
<h2 id="getglinfo">getGLInfo</h2>
<p><code>getGLInfo()</code> gets the information of the current graphic card. </p>
<h2 id="getdrawrecord">getDrawRecord</h2>
<ol>
<li><code>getDrawRecord(needStringFormat)</code> gets current draw records. <code>needStringFormat</code> is a boolean, when <code>true</code>, returns a string, otherwise, returns a Lua table.</li>
<li><code>getDrawRecord()</code> equals to <code>getDrawRecord(true)</code></li>
</ol>
<div><p class="code-filename">printDrawRecord.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">cube</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token function">getDrawRecord</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="getstatus">getStatus</h2>
<ol>
<li><code>getStatus(needStringFormat)</code>gets the current Paintbrush status. <code>needStringFormat</code> is a boolean, when <code>true</code>, returns a string, otherwise, returns a Lua table.</li>
<li><code>getStatus()</code> equals to <code>getStatus(true)</code></li>
</ol>
<div><p class="code-filename">printDrawRecord.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">move</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token function">dim3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">cube</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token function">getStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="getaudio">getAudio</h2>
<ol>
<li><code>getAudio(startTime,duration,id,sampleRate)</code> gets the audio samples. Returns 4 tables. The first 2 are wave sample tables(Left and Right), the last 2 are spectrum sample tables(Left and Right).  </li>
<li><code>getAudio(startTime,duration)</code> equals to <code>getAudio(startTime,duration,INPUT,44100)</code></li>
<li><code>getAudio(startTime,duration,id)</code> equals to <code>getAudio(startTime,duration,id,44100)</code></li>
</ol>
<blockquote>
<ul>
<li>Left wave sample range: (-1~1)</li>
<li>Right wave sample range: (-1~1)</li>
<li>Left spectrum sample range: (0~infinity)</li>
<li>Right spectrum sample range: (0~infinity)</li>
</ul>
</blockquote>
<div><p class="code-filename">waveInfo.lua</p></div>
<pre class="language-"><code class="lang-lua"><span class="token function">version3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">background</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">)</span>
<span class="token keyword">local</span> wl<span class="token punctuation">,</span>wr<span class="token punctuation">,</span>fl<span class="token punctuation">,</span>fr <span class="token operator">=</span> <span class="token function">getAudio</span><span class="token punctuation">(</span>time<span class="token operator">-</span><span class="token number">0.1</span><span class="token punctuation">,</span><span class="token number">0.2</span><span class="token punctuation">)</span>

<span class="token keyword">local</span> nm <span class="token operator">=</span> math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>height<span class="token operator">/</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>nm <span class="token keyword">do</span>
    <span class="token keyword">local</span> wid <span class="token operator">=</span>math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>i<span class="token operator">/</span>nm<span class="token operator">*</span><span class="token operator">#</span>wl<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">local</span> fid <span class="token operator">=</span> math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>i<span class="token operator">/</span>nm<span class="token operator">*</span><span class="token operator">#</span>fl<span class="token operator">/</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%8.5f&quot;</span><span class="token punctuation">,</span>wl<span class="token punctuation">[</span>wid<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>wl<span class="token punctuation">[</span>wid<span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span>wl<span class="token punctuation">[</span>wid<span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">4</span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;  &lt; L  R &gt;  &quot;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%8.5f&quot;</span><span class="token punctuation">,</span>wr<span class="token punctuation">[</span>wid<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>wr<span class="token punctuation">[</span>wid<span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span>wr<span class="token punctuation">[</span>wid<span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">4</span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;      &lt;   Wave  FFT   &gt;      &quot;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%8.5f&quot;</span><span class="token punctuation">,</span>fl<span class="token punctuation">[</span>fid<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>fl<span class="token punctuation">[</span>fid<span class="token punctuation">]</span><span class="token operator">/</span>math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token operator">#</span>fl<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;  &lt; L  R &gt;  &quot;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%8.5f&quot;</span><span class="token punctuation">,</span>fr<span class="token punctuation">[</span>fid<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>fr<span class="token punctuation">[</span>fid<span class="token punctuation">]</span><span class="token operator">/</span>math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token operator">#</span>fr<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="getcolor">getColor</h2>
<p><code>getColor(id,x,y)</code> get pixel color at location (x,y) of texture <code>id</code>. Returns <code>r,g,b,a</code> 4 doubles.
<code>getColor(x,y)</code> equals to <code>getColor(INPUT,x,y)</code></p>
<blockquote>
<ul>
<li>It is high efficient to call <code>getColor</code> before any draw function(Such as immediately after <code>version3()</code>). Otherwise, it is very low efficient since it queries pixels from the graphic card. </li>
<li>Valid <code>id</code>: <code>INPUT</code>,<code>OUTPUT</code>,<code>PARAM0</code>~<code>PARAM9</code></li>
</ul>
</blockquote>
<h2 id="setcolor">setColor</h2>
<p><code>setColor(x,y,r,g,b)</code>,<code>setColor(x,y,r,g,b,a)</code> set the pixel at location (x,y) of texture <code>OUTPUT</code>. </p>
<blockquote>
<ul>
<li>It is high efficient to call <code>setColor</code> before any draw function</li>
</ul>
</blockquote>
<h2 id="getsize">getSize</h2>
<p><code>getSize(id)</code> returns the size of texture <code>id</code>. (Two doubles, width and height)</p>
<blockquote>
<p>Due to the Ae&apos;s downsample (1/2,1/4) mechanism, the size you get would variating 0~4px. But this kind of variating doesn&apos;t change with time. The size is promised to be accurate in full resolution(without downsample). </p>
</blockquote>
<h2 id="shadertoy">shadertoy</h2>
<p><code>shadertoy(code)</code> runs code from shadertoy.com. </p>
<blockquote>
<ul>
<li>Not all code on shadertoy.com is supported. </li>
</ul>
</blockquote>
<h2 id="glsl">glsl</h2>
<p><code>glsl(code)</code> runs fragment stage shader code. </p>
<h2 id="cmd">cmd</h2>
<p><code>cmd(code)</code> runs cmd code. </p>
<blockquote>
<p>This function is equivalent to the ISO C function system. It passes command to be executed by an operating system shell. Its first result is true if the command terminated successfully, or nil otherwise. After this first result the function returns a string plus a number, as follows:</p>
<ul>
<li>&quot;exit&quot;: the command terminated normally; the following number is the exit status of the command.</li>
<li>&quot;signal&quot;: the command was terminated by a signal; the following number is the signal that terminated the command.<h2 id="lua">lua</h2>
</li>
</ul>
</blockquote>
<p><code>lua(code)</code> runs lua code. </p>
<h2 id="runfile">runFile</h2>
<p><code>runFile(utf8_path)</code> loads local lua code and run. </p>
<blockquote>
<p>No need to call <code>utf8ToLocal</code> since it supports utf8. </p>
</blockquote>
<h2 id="txt">txt</h2>
<p><code>txt(utf8_path)</code> loads local text file. Returns string. </p>
<blockquote>
<p>No need to call <code>utf8ToLocal</code> since it supports utf8. </p>
</blockquote>

<script>console.log("plugin-popup....");document.onclick = function(e){ e.target.tagName === "IMG" && window.open(e.target.src,e.target.src)}</script><style>img{cursor:pointer}</style>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            

        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"関数一覧表","level":"3.1.6","depth":2,"next":{"title":"Poly関数","level":"3.1.7","depth":2,"path":"contents/Lua/Poly.md","ref":"contents/Lua/Poly.md","articles":[]},"previous":{"title":"グローバル変数","level":"3.1.5","depth":2,"path":"contents/Lua/globals.md","ref":"contents/Lua/globals.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["hide-published-with","-sharing","sharing-plus","theme-api","codeblock-filename","prism","-highlight","copy-code-button","-lunr","-search","search-pro","back-to-top-button","popup","chapter-fold","heading-anchors","adsense"],"pluginsConfig":{"chapter-fold":{},"prism":{"css":["prismjs/themes/prism-monokai.css"]},"search-pro":{},"adsense":{"client":"ca-pub-7097619231360132","slot":"","format":"auto","element":".page-inner section","position":"bottom"},"sharing-plus":{"qq":false,"all":["facebook","google","twitter","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":true,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":true,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"popup":{},"hide-published-with":{},"fontsettings":{"theme":"white","family":"sans","size":2},"heading-anchors":{},"codeblock-filename":{},"theme-api":{"languages":[],"split":true,"theme":"light"},"back-to-top-button":{},"copy-code-button":{},"sharing":{"qq":true,"all":["douban","facebook","google","instapaper","linkedin","twitter","weibo","messenger","qq","qzone","viber","whatsapp"],"douban":false,"facebook":true,"weibo":true,"twitter":true,"pocket":false,"google":true,"qzone":true},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":true}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css"}},"file":{"path":"contents/Lua/FuncList.md","mtime":"2020-09-09T09:37:17.433Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-09-11T15:17:36.625Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-hide-published-with/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing-plus/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-chapter-fold/chapter-fold.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/1.2.1/anchor.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-heading-anchors/anchor-style.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-adsense/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-theme-api/theme-api.js"></script>
        
    

    </body>
</html>

